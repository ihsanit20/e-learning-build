import{b as D,k as E,l as N,u as F,r as u,o as T,d as t,e as a,t as l,f as s,z as f,F as g,g as y,C as V,n as d,q as _,m as w,j as B}from"./index-BSGNne6x.js";const R={class:"my-container py-4"},$={key:0,class:"error"},z={key:1},H=B('<div class="grid md:grid-cols-3 gap-4"><div class="md:order-last md:col-span-1"><div class="card-bg p-4 animate-pulse"><div class="rounded overflow-hidden h-52 bg-gray-200"></div><div class="flex justify-between mt-4"><div class="h-6 w-20 bg-gray-200 rounded-full"></div><div class="h-6 w-20 bg-gray-200 rounded-full"></div></div><div class="h-10 mt-4 bg-gray-200 rounded-full"></div></div></div><div class="md:col-span-2 space-y-4"><div class="h-10 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="space-y-2"><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div></div></div></div>',1),I=[H],q={key:2,class:"grid md:grid-cols-3 gap-4"},A={class:"md:order-last md:col-span-1"},K={class:"card-bg p-4"},O={class:"rounded overflow-hidden"},G=["src"],J={class:"flex justify-between"},P={class:"font-bold text-sky-600"},Q={key:0},U={class:"font-bold text-sky-600"},W={key:1,class:"bg-pink-50 px-3 rounded-full"},X={class:"font-bold text-pink-600"},Y={class:"md:col-span-2 space-y-4"},Z={class:"title-xl"},ss=s("hr",{class:"my-2"},null,-1),es=["innerHTML"],ts=s("h2",{class:"title-lg"},"Modules",-1),as={class:"space-y-4"},ls=["onClick"],os={class:"text-center border-2 rounded-md p-1.5"},is=s("div",{class:"text-xs md:text-sm"},"Module",-1),ns={class:"flex-1"},cs={class:"flex gap-4"},ds={key:0,class:"flex items-center gap-2 text-gray-500"},rs=s("i",{class:"fas fa-video text-xs"},null,-1),us={key:1,class:"flex items-center gap-2 text-gray-500"},_s=s("i",{class:"fas fa-file-alt text-xs"},null,-1),vs={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-orange-100 px-10 text-sm text-orange-500 font-medium"},hs={key:0},ps={class:"space-y-2"},fs=["onClick"],gs={class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},ys={class:"text-xs"},xs={key:0},ms={key:1},ks={class:"title-sm"},bs={class:"flex items-center gap-2 text-sm text-gray-400"},Cs=s("i",{class:"far fa-calendar-check"},null,-1),ws=["onClick"],Ms=s("div",{class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},[s("i",{class:"fas fa-file-alt"}),s("div",{class:"text-xs"},"Exam")],-1),Ls={class:"w-full"},Ss={class:"title-sm"},js={class:"flex justify-between gap-2 text-sm text-gray-400"},Ds={class:"flex items-center gap-2"},Es=s("i",{class:"far fa-calendar-check"},null,-1),Ns={class:"flex items-center gap-2"},Fs=s("i",{class:"far fa-clock"},null,-1),Ts=s("span",null,"Duration:",-1),Vs={key:3},$s={__name:"CourseDetails",setup(Bs){const M=D(),v=E(),x=N(),m=F(),k=M.params.id,r=u([]),i=u(null),h=u(null),b=u(!0);T(async()=>{try{await m.fetchCourse(k),i.value=m.course}catch(n){h.value=n}finally{b.value=!1}});const p=n=>{const c=new Date(n);return V(c,"dd-MMM-yyyy")},L=n=>{const c=r.value.indexOf(n);c===-1?r.value.push(n):r.value.splice(c,1)},C=(n,c)=>{c||(!x.token&&!localStorage.getItem("auth_token")?v.push({name:"login"}):window.open(n.link,"_blank"))},S=()=>{!x.token&&!localStorage.getItem("auth_token")?v.push({name:"join"}):v.push({name:"Checkout",params:{id:k}})};return(n,c)=>(t(),a("div",R,[h.value?(t(),a("div",$,l(h.value),1)):b.value?(t(),a("div",z,I)):i.value?(t(),a("div",q,[s("div",A,[s("div",K,[s("div",O,[s("img",{class:"w-full aspect-video object-cover",src:i.value.thumbnail,alt:""},null,8,G)]),s("div",J,[s("p",null,[f(" Fee: "),s("span",P,l(i.value.price)+" TK",1)]),i.value.course_type==="Live Course"?(t(),a("p",Q,[f(" Start Date: "),s("span",U,l(p(i.value.start_date)),1)])):(t(),a("p",W,[s("span",X,l(i.value.course_type),1)]))]),s("button",{class:"btn-2",onClick:S},"Enroll Now")])]),s("div",Y,[s("div",null,[s("h1",Z,l(i.value.title),1),ss]),s("div",{innerHTML:i.value.description,class:""},null,8,es),ts,s("ul",as,[(t(!0),a(g,null,y(i.value.modules,e=>(t(),a("li",{class:"card-bg p-4 relative",key:e.id},[s("div",{onClick:o=>L(e.id),class:"flex flex-1 items-center gap-4 cursor-pointer"},[s("div",os,[s("div",{class:d(["text-xl font-bold text-orange-500",{"!text-gray-400":e.is_active==0}])},l(e.order),3),is]),s("div",ns,[s("h4",{class:d(["title-md",{"text-gray-400":e.is_active==0}])},l(e.title),3),s("div",cs,[e.lectures.length>0?(t(),a("div",ds,[rs,s("p",null,l(e.lectures.length)+" Lectures",1)])):_("",!0),e.exams.length>0?(t(),a("div",us,[_s,s("p",null,l(e.exams.length)+" Exams",1)])):_("",!0)])]),s("button",null,[s("i",{class:d(r.value.includes(e.id)?"fas fa-angle-up":"fas fa-angle-down")},null,2)]),e.is_paid==0?(t(),a("div",vs," Free ")):_("",!0)],8,ls),r.value.includes(e.id)?(t(),a("div",hs,[s("ul",ps,[(t(!0),a(g,null,y(e.lectures,o=>(t(),a("li",{key:o.id},[s("a",{onClick:w(j=>C(o,e.is_paid),["prevent"]),class:d(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":e.is_paid==1}])},[s("div",gs,[s("i",{class:d(o.type==="virtual_platform"?"fas fa-video":"fas fa-play-circle")},null,2),s("div",ys,[o.type==="virtual_platform"?(t(),a("p",xs,"Live")):(t(),a("p",ms,"Rec"))])]),s("div",null,[s("h4",ks,l(o.title),1),s("div",bs,[Cs,s("p",null,l(p(o.opening_time)),1)])])],10,fs)]))),128)),(t(!0),a(g,null,y(e.exams,o=>(t(),a("li",{key:o.id},[s("a",{class:d(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":e.is_paid==1}]),onClick:w(j=>C(n.lecture,e.is_paid),["prevent"])},[Ms,s("div",Ls,[s("h4",Ss,l(o.title),1),s("div",js,[s("div",Ds,[Es,s("p",null,l(p(o.opening_time)),1)]),s("div",Ns,[Fs,s("p",null,[Ts,f(" "+l(o.duration),1)])])])])],10,ws)]))),128))])])):_("",!0)]))),128))])])])):(t(),a("div",Vs,"Loading..."))]))}};export{$s as default};
