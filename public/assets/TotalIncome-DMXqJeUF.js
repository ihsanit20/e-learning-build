import{r as s,I as g,x as a,z as o,U as m,a9 as y,af as b,F as T,G as h,B as k,A as w,C as v,y as l}from"./vue-qTl3phuU.js";import{u as C}from"./transaction-Du3u4yfD.js";import{u as I}from"./index-CrzM3j4z.js";import"./vendor-PJuFQbji.js";const S={class:"my-container space-y-4"},F={class:"card-bg p-4"},V={class:"grid md:grid-cols-4 gap-4"},B=["value"],D={class:"card-bg p-4"},U={key:0,class:"text-red-500 text-center mb-4"},L={key:1,class:"text-2xl font-semibold text-center"},M={key:2,class:"text-center mt-2"},j={__name:"TotalIncome",setup(A){const p=C(),f=I(),n=s(""),r=s(""),c=s(""),_=s(0),u=s(null),i=s(!1),x=async()=>{var d,e;i.value=!0;try{await p.fetchTotalIncome({from:n.value,to:r.value,course_id:c.value}),_.value=p.totalIncome}catch(t){u.value=((e=(d=t==null?void 0:t.response)==null?void 0:d.data)==null?void 0:e.message)||"An error occurred"}i.value=!1};return g(async()=>{await f.fetchCourses(),await x()}),(d,e)=>(l(),a("div",S,[e[4]||(e[4]=o("h1",{class:"text-3xl font-bold mb-6 text-center"},"Total Income",-1)),o("div",F,[o("div",V,[m(o("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),class:"input-1 w-full",placeholder:"From Date"},null,512),[[y,n.value]]),m(o("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"input-1 w-full",placeholder:"To Date"},null,512),[[y,r.value]]),m(o("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),class:"input-1 w-full"},[e[3]||(e[3]=o("option",{value:""},"Select Course",-1)),(l(!0),a(T,null,h(k(f).courses,t=>(l(),a("option",{key:t.id,value:t.id},v(t.title),9,B))),128))],512),[[b,c.value]]),o("button",{onClick:x,class:"btn-2"},"Filter")])]),o("div",D,[u.value?(l(),a("div",U,v(u.value),1)):(l(),a("div",L,"à§³"+v(_.value),1)),i.value?(l(),a("div",M,"Loading...")):w("",!0)])]))}};export{j as default};
