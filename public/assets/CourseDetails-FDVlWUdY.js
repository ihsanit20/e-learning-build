import{k as E,u as N,l as R,b as B,c as T,r as _,o as V,m as $,e as s,f as t,t as o,g as e,p as u,q as v,j as H,s as P,F as f,h as g,v as q,n as d,x as w,y as z}from"./index-h_FQe1qy.js";const A={class:"my-container py-4"},I={key:0,class:"error"},K={key:1},O=z('<div class="grid md:grid-cols-3 gap-4"><div class="md:order-last md:col-span-1"><div class="card-bg p-4 animate-pulse"><div class="rounded overflow-hidden h-52 bg-gray-200"></div><div class="flex justify-between mt-4"><div class="h-6 w-20 bg-gray-200 rounded-full"></div><div class="h-6 w-20 bg-gray-200 rounded-full"></div></div><div class="h-10 mt-4 bg-gray-200 rounded-full"></div></div></div><div class="md:col-span-2 space-y-4"><div class="h-10 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="space-y-2"><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div></div></div></div>',1),G=[O],J={key:2,class:"grid md:grid-cols-3 gap-4"},Q={class:"md:order-last md:col-span-1"},U={class:"card-bg p-4 relative"},W={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-green-600 px-10 py-0.5 text-sm text-white font-medium"},X={class:"rounded overflow-hidden"},Y=["src"],Z={class:"flex justify-between"},ee={class:"font-bold text-sky-600"},se={key:0},te={class:"font-bold text-sky-600"},ae={key:1,class:"bg-pink-50 px-3 rounded-full"},le={class:"font-bold text-pink-600"},oe={class:"md:col-span-2 space-y-4"},ie={class:"title-xl"},ne=e("hr",{class:"my-2"},null,-1),ce=["innerHTML"],de=e("h2",{class:"title-lg"},"Modules",-1),re={class:"space-y-4"},ue=["onClick"],_e={class:"text-center border-2 rounded-md p-1.5"},ve=e("div",{class:"text-xs md:text-sm"},"Module",-1),pe={class:"flex-1"},he={class:"flex gap-4"},fe={key:0,class:"flex items-center gap-2 text-gray-500"},ge=e("i",{class:"fas fa-video text-xs"},null,-1),ye={key:1,class:"flex items-center gap-2 text-gray-500"},xe=e("i",{class:"fas fa-file-alt text-xs"},null,-1),me={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-orange-100 px-10 text-sm text-orange-500 font-medium"},ke={key:0},be={class:"space-y-2"},we=["onClick"],Ce={class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},Le={class:"text-xs"},Me={key:0},Se={key:1},je={class:"title-sm"},De={class:"flex items-center gap-2 text-sm text-gray-400"},Fe=e("i",{class:"far fa-calendar-check"},null,-1),Ee=["onClick"],Ne=e("div",{class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},[e("i",{class:"fas fa-file-alt"}),e("div",{class:"text-xs"},"Exam")],-1),Re={class:"w-full"},Be={class:"title-sm"},Te={class:"flex justify-between gap-2 text-sm text-gray-400"},Ve={class:"flex items-center gap-2"},$e=e("i",{class:"far fa-calendar-check"},null,-1),He={class:"flex items-center gap-2"},Pe=e("i",{class:"far fa-clock"},null,-1),qe=e("span",null,"Duration:",-1),ze={key:3},Ke={__name:"CourseDetails",setup(Ae){const C=E(),y=N(),L=R(),M=B(),x=T(),m=M.params.id,r=_([]),l=_(null),p=_(null),k=_(!0);V(async()=>{try{await y.fetchCourse(m),l.value=y.course}catch(i){p.value=i}finally{k.value=!1}});const h=i=>{const c=new Date(i);return q(c,"dd-MMM-yyyy")},S=i=>{const c=r.value.indexOf(i);c===-1?r.value.push(i):r.value.splice(c,1)},b=(i,c)=>{c||(!C.token&&!localStorage.getItem("auth_token")?x.push({name:"login"}):i.type==="video"?L.showPlayer(i.link):window.open(i.link,"_blank"))},j=()=>{x.push({name:"Checkout",params:{id:m}})};return(i,c)=>{const D=$("RouterLink");return s(),t("div",A,[p.value?(s(),t("div",I,o(p.value),1)):k.value?(s(),t("div",K,G)):l.value?(s(),t("div",J,[e("div",Q,[e("div",U,[l.value.price<=0?(s(),t("div",W," Free ")):u("",!0),e("div",X,[e("img",{class:"w-full aspect-video object-cover",src:l.value.thumbnail,alt:""},null,8,Y)]),e("div",Z,[e("p",null,[v(" Fee: "),e("span",ee,o(l.value.price>0?`${l.value.price} TK`:"Free"),1)]),l.value.course_type==="Live Course"?(s(),t("p",se,[v(" Start Date: "),e("span",te,o(h(l.value.start_date)),1)])):(s(),t("p",ae,[e("span",le,o(l.value.course_type),1)]))]),l.value.is_purchased?(s(),H(D,{key:1,to:{name:"My Course Details",params:{id:l.value.id}},class:"btn-2"},{default:P(()=>[v(" Start Learning ")]),_:1},8,["to"])):(s(),t("button",{key:2,class:"btn-2",onClick:j},"Enroll Now"))])]),e("div",oe,[e("div",null,[e("h1",ie,o(l.value.title),1),ne]),e("div",{innerHTML:l.value.description,class:""},null,8,ce),de,e("ul",re,[(s(!0),t(f,null,g(l.value.modules,a=>(s(),t("li",{key:a.id,class:"card-bg p-4 relative"},[e("div",{onClick:n=>S(a.id),class:"flex flex-1 items-center gap-4 cursor-pointer"},[e("div",_e,[e("div",{class:d(["text-xl font-bold text-orange-500",{"!text-gray-400":a.is_active==0}])},o(a.order),3),ve]),e("div",pe,[e("h4",{class:d(["title-md",{"text-gray-400":a.is_active==0}])},o(a.title),3),e("div",he,[a.lectures.length>0?(s(),t("div",fe,[ge,e("p",null,o(a.lectures.length)+" Lectures",1)])):u("",!0),a.exams.length>0?(s(),t("div",ye,[xe,e("p",null,o(a.exams.length)+" Exams",1)])):u("",!0)])]),e("button",null,[e("i",{class:d(r.value.includes(a.id)?"fas fa-angle-up":"fas fa-angle-down")},null,2)]),a.is_paid==0?(s(),t("div",me," Free ")):u("",!0)],8,ue),r.value.includes(a.id)?(s(),t("div",ke,[e("ul",be,[(s(!0),t(f,null,g(a.lectures,n=>(s(),t("li",{key:n.id},[e("a",{onClick:w(F=>b(n,a.is_paid),["prevent"]),class:d(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":a.is_paid==1}])},[e("div",Ce,[e("i",{class:d(n.type==="virtual_platform"?"fas fa-video":"fas fa-play-circle")},null,2),e("div",Le,[n.type==="virtual_platform"?(s(),t("p",Me,"Live")):(s(),t("p",Se,"Rec"))])]),e("div",null,[e("h4",je,o(n.title),1),e("div",De,[Fe,e("p",null,o(h(n.opening_time)),1)])])],10,we)]))),128)),(s(!0),t(f,null,g(a.exams,n=>(s(),t("li",{key:n.id},[e("a",{class:d(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":a.is_paid==1}]),onClick:w(F=>b(i.lecture,a.is_paid),["prevent"])},[Ne,e("div",Re,[e("h4",Be,o(n.title),1),e("div",Te,[e("div",Ve,[$e,e("p",null,o(h(n.opening_time)),1)]),e("div",He,[Pe,e("p",null,[qe,v(" "+o(n.duration),1)])])])])],10,Ee)]))),128))])])):u("",!0)]))),128))])])])):(s(),t("div",ze,"Loading..."))])}}};export{Ke as default};
