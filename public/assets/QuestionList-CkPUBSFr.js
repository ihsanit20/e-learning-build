import{r as o,P as D,I as N,a2 as b,x as l,z as s,O as _,A as y,D as x,L as h,Z as $,B as C,F as j,G as z,y as t,C as E,X as S}from"./vue-CAqJJQzZ.js";import{u as V}from"./question-CY1SqnI9.js";import{_ as R,a as F,b as G}from"./EditQuestionModal-1kYSQlt0.js";import"./index-_BXdcGLR.js";import"./vendor-PJuFQbji.js";import"./TextEditor-iSTvUU0S.js";const O={class:"my-container space-y-2"},P={class:"flex justify-between"},T={class:"flex items-center gap-4"},X={key:0,class:"flex justify-center items-center"},Z={key:1},H={key:0,class:"grid md:grid-cols-3 gap-4"},J={class:"flex flex-col items-center"},K={class:"title-md"},U={class:"absolute top-4 right-4 flex gap-2"},W=["onClick"],Y=["onClick"],ee={key:1,class:"text-red-500"},re={__name:"QuestionList",setup(se){const n=D(),k=o(n.params.categoryId),w=o(n.params.subjectId),d=o(n.params.chapterId),u=V(),c=o(!1),f=o(!1),p=o(!1),i=o(null),m=o(!0),I=()=>c.value=!0,M=()=>c.value=!1,L=a=>{i.value=a,f.value=!0},Q=()=>f.value=!1,q=a=>{i.value=a,p.value=!0},A=()=>p.value=!1,v=async()=>{try{m.value=!0,await u.index(d.value)}finally{m.value=!1}};return N(v),b(()=>n.params.id,async a=>{d.value=a,await v()}),b(()=>n.params.categoryId,async a=>{k.value=a,await v()}),(a,e)=>{const g=$("RouterLink");return t(),l("div",O,[s("div",P,[s("div",T,[x(g,{class:"btn-3",to:{name:"ChapterList",params:{categoryId:k.value,id:w.value}}},{default:h(()=>e[0]||(e[0]=[s("i",{class:"fas fa-arrow-left"},null,-1)])),_:1},8,["to"]),e[1]||(e[1]=s("h4",{class:"title-lg"},"Question List",-1))]),s("button",{class:"btn-2",onClick:I},"Add Question")]),m.value?(t(),l("div",X,e[2]||(e[2]=[s("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1)]))):(t(),l("div",Z,[C(u).questions.length?(t(),l("div",H,[(t(!0),l(j,null,z(C(u).questions,r=>(t(),l("div",{key:r.id,class:"relative card-bg items-center p-4"},[s("div",J,[e[3]||(e[3]=s("i",{class:"fad fa-folder text-4xl"},null,-1)),s("p",K,E(r.name),1)]),s("div",U,[s("button",{onClick:B=>L(r)},e[4]||(e[4]=[s("i",{class:"fad fa-edit"},null,-1)]),8,W),s("button",{onClick:B=>q(r),class:"text-red-500"},e[5]||(e[5]=[s("i",{class:"fad fa-trash"},null,-1)]),8,Y)]),x(g,{to:"",class:"btn-link"},{default:h(()=>e[6]||(e[6]=[S(" See Questions ")])),_:1})]))),128))])):(t(),l("p",ee,"No questions found"))])),c.value?(t(),_(R,{key:2,class:"z-40",chapterId:d.value,onClose:M},null,8,["chapterId"])):y("",!0),f.value?(t(),_(F,{key:3,class:"z-40",question:i.value,onClose:Q},null,8,["question"])):y("",!0),p.value?(t(),_(G,{key:4,class:"z-40",question:i.value,onClose:A},null,8,["question"])):y("",!0)])}}};export{re as default};
