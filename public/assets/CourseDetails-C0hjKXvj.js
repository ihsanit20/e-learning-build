import{b as S,k as j,l as D,u as N,r as u,o as F,d as e,e as t,t as l,f as s,z as m,F as x,g as k,C as T,n as r,q as b,m as V,j as B}from"./index-CT1U0GKd.js";const E={class:"my-container py-4"},R={key:0,class:"error"},z={key:1},H=B('<div class="grid md:grid-cols-3 gap-4"><div class="md:order-last md:col-span-1"><div class="card-bg p-4 animate-pulse"><div class="rounded overflow-hidden h-52 bg-gray-200"></div><div class="flex justify-between mt-4"><div class="h-6 w-20 bg-gray-200 rounded-full"></div><div class="h-6 w-20 bg-gray-200 rounded-full"></div></div><div class="h-10 mt-4 bg-gray-200 rounded-full"></div></div></div><div class="md:col-span-2 space-y-4"><div class="h-10 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="space-y-2"><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div></div></div></div>',1),I=[H],$={key:2,class:"grid md:grid-cols-3 gap-4"},q={class:"md:order-last md:col-span-1"},A={class:"card-bg p-4"},K={class:"rounded overflow-hidden"},O=["src"],G={class:"flex justify-between"},J={class:"font-bold text-sky-600"},P={key:0},Q={class:"font-bold text-sky-600"},U={key:1,class:"bg-pink-50 px-3 rounded-full"},W={class:"font-bold text-pink-600"},X={class:"md:col-span-2 space-y-4"},Y={class:"title-xl"},Z=s("hr",{class:"my-2"},null,-1),ss=["innerHTML"],es=s("h2",{class:"title-lg"},"Modules",-1),ts={class:"space-y-4"},as=["onClick"],os={class:"text-center border-2 rounded-md p-1.5"},ls=s("div",{class:"text-xs md:text-sm"},"Module",-1),is={class:"flex-1"},ds={class:""},ns={class:"flex items-center gap-2 text-gray-500"},cs=s("i",{class:"fas fa-video text-xs"},null,-1),rs={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-orange-100 px-10 text-sm text-orange-500 font-medium"},us={key:0},_s={class:"space-y-2"},vs=["onClick"],hs={class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},ps={class:"text-xs"},gs={key:0},fs={key:1},ys={class:"title-sm"},ms={class:"flex items-center gap-2 text-sm text-gray-400"},xs=s("i",{class:"far fa-calendar-check"},null,-1),ks={key:3},Ms={__name:"CourseDetails",setup(bs){const C=S(),_=j(),h=D(),p=N(),g=C.params.id,c=u([]),o=u(null),v=u(null),f=u(!0);F(async()=>{try{await p.fetchCourse(g),o.value=p.course}catch(i){v.value=i}finally{f.value=!1}});const y=i=>{const d=new Date(i);return T(d,"dd-MMM-yyyy")},w=i=>{const d=c.value.indexOf(i);d===-1?c.value.push(i):c.value.splice(d,1)},M=(i,d)=>{d||(!h.token&&!localStorage.getItem("auth_token")?_.push({name:"login"}):window.open(i.link,"_blank"))},L=()=>{!h.token&&!localStorage.getItem("auth_token")?_.push({name:"join"}):_.push({name:"Checkout",params:{id:g}})};return(i,d)=>(e(),t("div",E,[v.value?(e(),t("div",R,l(v.value),1)):f.value?(e(),t("div",z,I)):o.value?(e(),t("div",$,[s("div",q,[s("div",A,[s("div",K,[s("img",{class:"w-full aspect-video object-cover",src:o.value.thumbnail,alt:""},null,8,O)]),s("div",G,[s("p",null,[m(" Fee: "),s("span",J,l(o.value.price)+" TK",1)]),o.value.course_type==="Live Course"?(e(),t("p",P,[m(" Start Date: "),s("span",Q,l(y(o.value.start_date)),1)])):(e(),t("p",U,[s("span",W,l(o.value.course_type),1)]))]),s("button",{class:"btn-2",onClick:L},"Enroll Now")])]),s("div",X,[s("div",null,[s("h1",Y,l(o.value.title),1),Z]),s("div",{innerHTML:o.value.description,class:""},null,8,ss),es,s("ul",ts,[(e(!0),t(x,null,k(o.value.modules,a=>(e(),t("li",{class:"card-bg p-4 relative",key:a.id},[s("div",{onClick:n=>w(a.id),class:"flex flex-1 items-center gap-4 cursor-pointer"},[s("div",os,[s("div",{class:r(["text-xl font-bold text-orange-500",{"!text-gray-400":a.is_active==0}])},l(a.order),3),ls]),s("div",is,[s("h4",{class:r(["title-md",{"text-gray-400":a.is_active==0}])},l(a.title),3),s("div",ds,[s("div",ns,[cs,s("p",null,l(a.lectures.length)+" Lectures",1)])])]),s("button",null,[s("i",{class:r(c.value.includes(a.id)?"fas fa-angle-up":"fas fa-angle-down")},null,2)]),a.is_paid==0?(e(),t("div",rs," Free ")):b("",!0)],8,as),c.value.includes(a.id)?(e(),t("div",us,[s("ul",_s,[(e(!0),t(x,null,k(a.lectures,n=>(e(),t("li",{key:n.id},[s("a",{onClick:V(Cs=>M(n,a.is_paid),["prevent"]),class:r(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":a.is_paid==1}])},[s("div",hs,[s("i",{class:r(n.type==="virtual_platform"?"fas fa-video":"fas fa-play-circle")},null,2),s("div",ps,[n.type==="virtual_platform"?(e(),t("p",gs,"Live")):(e(),t("p",fs,"Rec"))])]),s("div",null,[s("h4",ys,l(n.title),1),s("div",ms,[xs,s("p",null,l(y(n.opening_time)),1)])])],10,vs)]))),128))])])):b("",!0)]))),128))])])])):(e(),t("div",ks,"Loading..."))]))}};export{Ms as default};
