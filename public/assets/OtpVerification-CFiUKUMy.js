import{r as t,k as w,c as O,b as T,o as k,e as o,f as a,g as e,x as P,q as m,t as p,z as S,A as V,p as u,B as I,C as q}from"./index-CYGpEyrZ.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x=n=>(I("data-v-46e2d02f"),n=n(),q(),n),A={class:"max-w-md mx-auto my-10 px-2"},M={class:"bg-white p-6 rounded-lg shadow-md"},N=x(()=>e("h2",{class:"title-lg text-center"},"Verify OTP",-1)),R={class:"font-medium text-gray-900 text-center"},j={class:"font-bold"},C={class:"flex justify-center items-center"},D={key:0,class:"loader"},E={key:1,class:"text-green-500 text-2xl"},z=x(()=>e("i",{class:"fad fa-check-circle"},null,-1)),U=[z],F={key:0,class:"mt-4 text-sm text-red-500 text-center"},G={key:1,class:"mt-4 text-sm text-green-500 text-center"},H={class:"flex justify-center"},J=["disabled"],K={__name:"OtpVerification",setup(n){const c=t(""),l=t(""),r=t(""),i=t(""),s=t(!1),d=t(!1),v=w(),y=O(),_=T(),b=async()=>{s.value=!0,d.value=!1;try{await v.verifyOtp(c.value,l.value)&&(i.value="OTP verification completed.",r.value="",s.value=!1,d.value=!0,setTimeout(()=>{y.push({name:"ResetPassword",query:{phone:c.value,otp:l.value}})},2e3))}catch{r.value=v.error||"Invalid OTP. Please try again.",i.value="",s.value=!1}};return k(()=>{_.query.phone&&(c.value=_.query.phone)}),(f,h)=>(o(),a("div",A,[e("div",M,[N,e("form",{onSubmit:P(b,["prevent"]),class:"space-y-4"},[e("div",R,[m(" An OTP has been sent to ("),e("span",j,p(c.value),1),m(") this number. ")]),e("div",null,[S(e("input",{"onUpdate:modelValue":h[0]||(h[0]=g=>l.value=g),type:"text",id:"otp",name:"otp",class:"input-1 w-full",placeholder:"Enter the OTP",required:""},null,512),[[V,l.value]])]),e("div",C,[s.value?(o(),a("span",D)):u("",!0),d.value?(o(),a("span",E,U)):u("",!0)]),r.value?(o(),a("div",F,p(r.value),1)):u("",!0),i.value?(o(),a("div",G,p(i.value),1)):u("",!0),e("div",H,[e("button",{type:"submit",class:"btn-2",disabled:s.value},"Verify OTP",8,J)])],32)])]))}},W=B(K,[["__scopeId","data-v-46e2d02f"]]);export{W as default};
