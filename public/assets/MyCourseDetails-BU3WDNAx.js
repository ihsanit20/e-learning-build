var _e=Object.defineProperty;var be=(r,n,e)=>n in r?_e(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e;var i=(r,n,e)=>be(r,typeof n!="symbol"?n+"":n,e);import{H as R,I as C,J as de,K as ve,L as ge,M as ke,N as Te,O as te,P as fe,Q as Me,R as Ee,S as me,T as Pe,U as le,V as De,W as ce,X as $e,e as d,f as h,g as o,t as x,r as O,d as Ie,o as se,Y as Oe,w as Ce,p as q,Z as J,j as F,q as G,$ as Ye,a0 as ue,b as qe,c as Le,u as He,l as Ne,a1 as Re,F as j,h as Z,x as B,z as Qe,a2 as Ve,n as W,s as A,E as K,i as ee,a3 as je}from"./index-C_Bbi4Qr.js";import{u as Be}from"./course-exam-DIIxhZfC.js";function he(r,n){const e=R(r);return isNaN(n)?C(r,NaN):(n&&e.setDate(e.getDate()+n),e)}function We(){return Object.assign({},de())}function Ae(r){let e=R(r).getDay();return e===0&&(e=7),e}function Fe(r,n){const e=n instanceof Date?C(n,0):new n(0);return e.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),e.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e}const Ge=10;class xe{constructor(){i(this,"subPriority",0)}validate(n,e){return!0}}class Xe extends xe{constructor(n,e,s,t,a){super(),this.value=n,this.validateValue=e,this.setValue=s,this.priority=t,a&&(this.subPriority=a)}validate(n,e){return this.validateValue(n,this.value,e)}set(n,e,s){return this.setValue(n,e,this.value,s)}}class ze extends xe{constructor(){super(...arguments);i(this,"priority",Ge);i(this,"subPriority",-1)}set(e,s){return s.timestampIsSet?e:C(e,Fe(e,Date))}}class m{run(n,e,s,t){const a=this.parse(n,e,s,t);return a?{setter:new Xe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,e,s){return!0}}class Ue extends m{constructor(){super(...arguments);i(this,"priority",140);i(this,"incompatibleTokens",["R","u","t","T"])}parse(e,s,t){switch(s){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,s,t){return s.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}const k={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},L={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function T(r,n){return r&&{value:n(r.value),rest:r.rest}}function b(r,n){const e=n.match(r);return e?{value:parseInt(e[0],10),rest:n.slice(e[0].length)}:null}function H(r,n){const e=n.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:n.slice(1)};const s=e[1]==="+"?1:-1,t=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,l=e[5]?parseInt(e[5],10):0;return{value:s*(t*ve+a*ge+l*ke),rest:n.slice(e[0].length)}}function pe(r){return b(k.anyDigitsSigned,r)}function g(r,n){switch(r){case 1:return b(k.singleDigit,n);case 2:return b(k.twoDigits,n);case 3:return b(k.threeDigits,n);case 4:return b(k.fourDigits,n);default:return b(new RegExp("^\\d{1,"+r+"}"),n)}}function S(r,n){switch(r){case 1:return b(k.singleDigitSigned,n);case 2:return b(k.twoDigitsSigned,n);case 3:return b(k.threeDigitsSigned,n);case 4:return b(k.fourDigitsSigned,n);default:return b(new RegExp("^-?\\d{1,"+r+"}"),n)}}function re(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function we(r,n){const e=n>0,s=e?n:1-n;let t;if(s<=50)t=r||100;else{const a=s+50,l=Math.trunc(a/100)*100,c=r>=a%100;t=r+l-(c?100:0)}return e?t:1-t}function ye(r){return r%400===0||r%4===0&&r%100!==0}class Ze extends m{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,s,t){const a=l=>({year:l,isTwoDigitYear:s==="yy"});switch(s){case"y":return T(g(4,e),a);case"yo":return T(t.ordinalNumber(e,{unit:"year"}),a);default:return T(g(s.length,e),a)}}validate(e,s){return s.isTwoDigitYear||s.year>0}set(e,s,t){const a=e.getFullYear();if(t.isTwoDigitYear){const c=we(t.year,a);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const l=!("era"in s)||s.era===1?t.year:1-t.year;return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}}class Ke extends m{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,s,t){const a=l=>({year:l,isTwoDigitYear:s==="YY"});switch(s){case"Y":return T(g(4,e),a);case"Yo":return T(t.ordinalNumber(e,{unit:"year"}),a);default:return T(g(s.length,e),a)}}validate(e,s){return s.isTwoDigitYear||s.year>0}set(e,s,t,a){const l=Te(e,a);if(t.isTwoDigitYear){const f=we(t.year,l);return e.setFullYear(f,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),te(e,a)}const c=!("era"in s)||s.era===1?t.year:1-t.year;return e.setFullYear(c,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),te(e,a)}}class Je extends m{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,s){return S(s==="R"?4:s.length,e)}set(e,s,t){const a=C(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),fe(a)}}class Se extends m{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,s){return S(s==="u"?4:s.length,e)}set(e,s,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}class et extends m{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,s,t){switch(s){case"Q":case"QQ":return g(s.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=1&&s<=4}set(e,s,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class tt extends m{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,s,t){switch(s){case"q":case"qq":return g(s.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,s){return s>=1&&s<=4}set(e,s,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class st extends m{constructor(){super(...arguments);i(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);i(this,"priority",110)}parse(e,s,t){const a=l=>l-1;switch(s){case"M":return T(b(k.month,e),a);case"MM":return T(g(2,e),a);case"Mo":return T(t.ordinalNumber(e,{unit:"month"}),a);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=0&&s<=11}set(e,s,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}class rt extends m{constructor(){super(...arguments);i(this,"priority",110);i(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,s,t){const a=l=>l-1;switch(s){case"L":return T(b(k.month,e),a);case"LL":return T(g(2,e),a);case"Lo":return T(t.ordinalNumber(e,{unit:"month"}),a);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,s){return s>=0&&s<=11}set(e,s,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}function nt(r,n,e){const s=R(r),t=Me(s,e)-n;return s.setDate(s.getDate()-t*7),s}class ot extends m{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,s,t){switch(s){case"w":return b(k.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return g(s.length,e)}}validate(e,s){return s>=1&&s<=53}set(e,s,t,a){return te(nt(e,t,a),a)}}function at(r,n){const e=R(r),s=Ee(e)-n;return e.setDate(e.getDate()-s*7),e}class it extends m{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,s,t){switch(s){case"I":return b(k.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return g(s.length,e)}}validate(e,s){return s>=1&&s<=53}set(e,s,t){return fe(at(e,t))}}const lt=[31,28,31,30,31,30,31,31,30,31,30,31],ct=[31,29,31,30,31,30,31,31,30,31,30,31];class ut extends m{constructor(){super(...arguments);i(this,"priority",90);i(this,"subPriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,s,t){switch(s){case"d":return b(k.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return g(s.length,e)}}validate(e,s){const t=e.getFullYear(),a=ye(t),l=e.getMonth();return a?s>=1&&s<=ct[l]:s>=1&&s<=lt[l]}set(e,s,t){return e.setDate(t),e.setHours(0,0,0,0),e}}class dt extends m{constructor(){super(...arguments);i(this,"priority",90);i(this,"subpriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,s,t){switch(s){case"D":case"DD":return b(k.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return g(s.length,e)}}validate(e,s){const t=e.getFullYear();return ye(t)?s>=1&&s<=366:s>=1&&s<=365}set(e,s,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}}function ne(r,n,e){var M,I,v,$;const s=de(),t=(e==null?void 0:e.weekStartsOn)??((I=(M=e==null?void 0:e.locale)==null?void 0:M.options)==null?void 0:I.weekStartsOn)??s.weekStartsOn??(($=(v=s.locale)==null?void 0:v.options)==null?void 0:$.weekStartsOn)??0,a=R(r),l=a.getDay(),f=(n%7+7)%7,p=7-t,P=n<0||n>6?n-(l+p)%7:(f+p)%7-(l+p)%7;return he(a,P)}class ft extends m{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,s,t){switch(s){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=0&&s<=6}set(e,s,t,a){return e=ne(e,t,a),e.setHours(0,0,0,0),e}}class mt extends m{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,s,t,a){const l=c=>{const f=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return T(g(s.length,e),l);case"eo":return T(t.ordinalNumber(e,{unit:"day"}),l);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=0&&s<=6}set(e,s,t,a){return e=ne(e,t,a),e.setHours(0,0,0,0),e}}class ht extends m{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,s,t,a){const l=c=>{const f=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return T(g(s.length,e),l);case"co":return T(t.ordinalNumber(e,{unit:"day"}),l);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,s){return s>=0&&s<=6}set(e,s,t,a){return e=ne(e,t,a),e.setHours(0,0,0,0),e}}function xt(r,n){const e=R(r),s=Ae(e),t=n-s;return he(e,t)}class pt extends m{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,s,t){const a=l=>l===0?7:l;switch(s){case"i":case"ii":return g(s.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return T(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return T(t.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return T(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return T(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,s){return s>=1&&s<=7}set(e,s,t){return e=xt(e,t),e.setHours(0,0,0,0),e}}class wt extends m{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,s,t){switch(s){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,s,t){return e.setHours(re(t),0,0,0),e}}class yt extends m{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,s,t){switch(s){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,s,t){return e.setHours(re(t),0,0,0),e}}class _t extends m{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","b","t","T"])}parse(e,s,t){switch(s){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,s,t){return e.setHours(re(t),0,0,0),e}}class bt extends m{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,s,t){switch(s){case"h":return b(k.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return g(s.length,e)}}validate(e,s){return s>=1&&s<=12}set(e,s,t){const a=e.getHours()>=12;return a&&t<12?e.setHours(t+12,0,0,0):!a&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}}class vt extends m{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,s,t){switch(s){case"H":return b(k.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return g(s.length,e)}}validate(e,s){return s>=0&&s<=23}set(e,s,t){return e.setHours(t,0,0,0),e}}class gt extends m{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,s,t){switch(s){case"K":return b(k.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return g(s.length,e)}}validate(e,s){return s>=0&&s<=11}set(e,s,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}}class kt extends m{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,s,t){switch(s){case"k":return b(k.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return g(s.length,e)}}validate(e,s){return s>=1&&s<=24}set(e,s,t){const a=t<=24?t%24:t;return e.setHours(a,0,0,0),e}}class Tt extends m{constructor(){super(...arguments);i(this,"priority",60);i(this,"incompatibleTokens",["t","T"])}parse(e,s,t){switch(s){case"m":return b(k.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return g(s.length,e)}}validate(e,s){return s>=0&&s<=59}set(e,s,t){return e.setMinutes(t,0,0),e}}class Mt extends m{constructor(){super(...arguments);i(this,"priority",50);i(this,"incompatibleTokens",["t","T"])}parse(e,s,t){switch(s){case"s":return b(k.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return g(s.length,e)}}validate(e,s){return s>=0&&s<=59}set(e,s,t){return e.setSeconds(t,0),e}}class Et extends m{constructor(){super(...arguments);i(this,"priority",30);i(this,"incompatibleTokens",["t","T"])}parse(e,s){const t=a=>Math.trunc(a*Math.pow(10,-s.length+3));return T(g(s.length,e),t)}set(e,s,t){return e.setMilliseconds(t),e}}class Pt extends m{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","x"])}parse(e,s){switch(s){case"X":return H(L.basicOptionalMinutes,e);case"XX":return H(L.basic,e);case"XXXX":return H(L.basicOptionalSeconds,e);case"XXXXX":return H(L.extendedOptionalSeconds,e);case"XXX":default:return H(L.extended,e)}}set(e,s,t){return s.timestampIsSet?e:C(e,e.getTime()-me(e)-t)}}class Dt extends m{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","X"])}parse(e,s){switch(s){case"x":return H(L.basicOptionalMinutes,e);case"xx":return H(L.basic,e);case"xxxx":return H(L.basicOptionalSeconds,e);case"xxxxx":return H(L.extendedOptionalSeconds,e);case"xxx":default:return H(L.extended,e)}}set(e,s,t){return s.timestampIsSet?e:C(e,e.getTime()-me(e)-t)}}class $t extends m{constructor(){super(...arguments);i(this,"priority",40);i(this,"incompatibleTokens","*")}parse(e){return pe(e)}set(e,s,t){return[C(e,t*1e3),{timestampIsSet:!0}]}}class It extends m{constructor(){super(...arguments);i(this,"priority",20);i(this,"incompatibleTokens","*")}parse(e){return pe(e)}set(e,s,t){return[C(e,t),{timestampIsSet:!0}]}}const Ot={G:new Ue,y:new Ze,Y:new Ke,R:new Je,u:new Se,Q:new et,q:new tt,M:new st,L:new rt,w:new ot,I:new it,d:new ut,D:new dt,E:new ft,e:new mt,c:new ht,i:new pt,a:new wt,b:new yt,B:new _t,h:new bt,H:new vt,K:new gt,k:new kt,m:new Tt,s:new Mt,S:new Et,X:new Pt,x:new Dt,t:new $t,T:new It},Ct=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qt=/^'([^]*?)'?$/,Lt=/''/g,Ht=/\S/,Nt=/[a-zA-Z]/;function Rt(r,n,e,s){var N,Q,X,z;const t=We(),a=t.locale??Pe,l=t.firstWeekContainsDate??((Q=(N=t.locale)==null?void 0:N.options)==null?void 0:Q.firstWeekContainsDate)??1,c=t.weekStartsOn??((z=(X=t.locale)==null?void 0:X.options)==null?void 0:z.weekStartsOn)??0,f={firstWeekContainsDate:l,weekStartsOn:c,locale:a},p=[new ze],P=n.match(Yt).map(u=>{const w=u[0];if(w in le){const Y=le[w];return Y(u,a.formatLong)}return u}).join("").match(Ct),M=[];for(let u of P){De(u)&&ce(u,n,r),$e(u)&&ce(u,n,r);const w=u[0],Y=Ot[w];if(Y){const{incompatibleTokens:U}=Y;if(Array.isArray(U)){const E=M.find(V=>U.includes(V.token)||V.token===w);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${u}\` at the same time`)}else if(Y.incompatibleTokens==="*"&&M.length>0)throw new RangeError(`The format string mustn't contain \`${u}\` and any other token at the same time`);M.push({token:w,fullToken:u});const y=Y.run(r,u,a.match,f);if(!y)return C(e,NaN);p.push(y.setter),r=y.rest}else{if(w.match(Nt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(u==="''"?u="'":w==="'"&&(u=Qt(u)),r.indexOf(u)===0)r=r.slice(u.length);else return C(e,NaN)}}if(r.length>0&&Ht.test(r))return C(e,NaN);const I=p.map(u=>u.priority).sort((u,w)=>w-u).filter((u,w,Y)=>Y.indexOf(u)===w).map(u=>p.filter(w=>w.priority===u).sort((w,Y)=>Y.subPriority-w.subPriority)).map(u=>u[0]);let v=R(e);if(isNaN(v.getTime()))return C(e,NaN);const $={};for(const u of I){if(!u.validate(v,f))return C(e,NaN);const w=u.set(v,$,f);Array.isArray(w)?(v=w[0],Object.assign($,w[1])):v=w}return C(e,v)}function Qt(r){return r.match(qt)[1].replace(Lt,"'")}const Vt={class:"table table-auto text-sm"},jt=o("td",{class:"text-right px-3 py-1.5"},"Total Question",-1),Bt={class:"text-center px-3 py-1.5"},Wt=o("td",{class:"text-right px-3 py-1.5"},"Answered Question",-1),At={class:"text-center px-3 py-1.5"},Ft=o("td",{class:"text-right px-3 py-1.5"},"Unanswered Question",-1),Gt={class:"text-center px-3 py-1.5"},Xt=o("td",{class:"text-right px-3 py-1.5"},"Correct Mark",-1),zt={class:"text-center px-3 py-1.5"},Ut={class:"text-red-500"},Zt=o("td",{class:"text-right px-3 py-1.5"},"Negative Mark",-1),Kt={class:"text-center px-3 py-1.5"},Jt={class:"border-t font-bold"},St=o("td",{class:"text-right px-3 py-1.5"},"Obtained Mark",-1),es={class:"text-center px-3 py-1.5"},ts={__name:"McqResult",props:{selectedExam:Object},setup(r){return(n,e)=>{var s,t,a,l,c,f,p,P,M,I,v,$;return d(),h("table",Vt,[o("tr",null,[jt,o("td",Bt,x((s=r.selectedExam)==null?void 0:s.exam_questions_count),1)]),o("tr",null,[Wt,o("td",At,x((a=(t=r.selectedExam)==null?void 0:t.user_exam)==null?void 0:a.user_mcq_answers_count),1)]),o("tr",null,[Ft,o("td",Gt,x(((l=r.selectedExam)==null?void 0:l.exam_questions_count)-((f=(c=r.selectedExam)==null?void 0:c.user_exam)==null?void 0:f.user_mcq_answers_count)),1)]),o("tr",null,[Xt,o("td",zt,x((P=(p=r.selectedExam)==null?void 0:p.user_exam)==null?void 0:P.mcq_correct_mark),1)]),o("tr",Ut,[Zt,o("td",Kt,x((I=(M=r.selectedExam)==null?void 0:M.user_exam)==null?void 0:I.mcq_negative_mark),1)]),o("tr",Jt,[St,o("td",es,x(($=(v=r.selectedExam)==null?void 0:v.user_exam)==null?void 0:$.obtained_mark),1)])])}}},ss={class:"flex flex-col"},rs={key:0,class:"min-w-max border px-2 pt-1 pb-0.5 rounded-lg text-center"},ns={key:1,class:"h-6 w-20 rounded-full bg-gray-200 animate-pulse"},os={key:2,class:"text-sm text-right"},oe={__name:"TimeCountdown",props:{targetTime:{type:String,required:!1},modelValue:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(r,{emit:n}){const e=r,s=n,t=O(Rt(e.targetTime,"yyyy-MM-dd HH:mm:ss",new Date)),a=O(new Date),l=Ie(()=>t.value-a.value),c=O("");let f;const p=()=>{const I=Math.floor(l.value/1e3%60),v=Math.floor(l.value/(1e3*60)%60),$=Math.floor(l.value/(1e3*60*60)%24),N=Math.floor(l.value/(1e3*60*60*24));c.value=N?`${N}d ${$}h ${v}m ${I}s`:`${$}h ${v}m ${I}s`},P=()=>{a.value=new Date,p(),M()};se(()=>{P(),f=setInterval(P,1e3)}),Oe(()=>{clearInterval(f)});const M=()=>{l.value<=0?(c.value="Time’s up!",s("update:modelValue",!0),clearInterval(f)):l.value>0&&s("update:modelValue",!1)};return Ce(l,M),(I,v)=>(d(),h("div",ss,[c.value?(d(),h("div",rs,x(c.value),1)):(d(),h("p",ns)),r.label?(d(),h("div",os,x(r.label),1)):q("",!0)]))}},as={class:"modal"},is={class:"modal-content !px-3 !py-4 !max-w-sm"},ls={class:"w-full h-full flex flex-col justify-between items-center space-y-3 overflow-hidden"},cs={class:"w-full flex justify-between items-center"},us={class:"title-lg text-center"},ds={class:"size-full grow shrink border-t py-4 overflow-y-auto scrollbar flex flex-col gap-4 justify-center items-center"},fs=o("hr",{class:"w-full"},null,-1),ms={class:"w-full flex justify-between items-center"},hs={__name:"ExamResultModal",props:{selectedExam:Object},setup(r){const n=O(!1);return(e,s)=>(d(),h("div",as,[o("div",is,[o("div",ls,[o("div",cs,[o("h3",us,"Result of "+x(r.selectedExam.title),1),J(e.$slots,"default")]),o("div",ds,[r.selectedExam?(d(),F(ts,{key:0,selectedExam:r.selectedExam},null,8,["selectedExam"])):q("",!0),fs,o("div",ms,[n.value?J(e.$slots,"answerSheet",{key:0}):(d(),F(oe,{key:1,modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),targetTime:r.selectedExam.result_publish_time,label:"Results are not yet published",class:"mx-auto items-center"},null,8,["modelValue","targetTime"]))])])])])]))}},xs={key:0,class:"grow-0 shrink-0 border px-2 pt-1.5 pb-0.5 rounded-lg bg-blue-300/30 text-blue-600"},ps={__name:"MeritPosition",props:{courseId:String,examId:[String,Number]},setup(r){const n=r,e=O(null),s=Be();se(async()=>{n.courseId&&n.examId&&(e.value=await s.fetchExam(n.courseId,n.examId))});const t=l=>{const c=["th","st","nd","rd"],f=l%100;return l+(c[(f-20)%10]||c[f]||c[0])},a=l=>{var c,f;if((f=(c=e.value)==null?void 0:c.user_exam)!=null&&f.is_practice){const p=Math.floor(l/10)*10+1,P=p+9;return`${t(p)} - ${t(P)}`}return t(l)};return(l,c)=>{var f,p,P,M;return(f=e.value)!=null&&f.user_exam?(d(),h("div",xs,[G(x((p=e.value.user_exam)!=null&&p.is_practice?"Position: ":"Merit Position: ")+" ",1),o("b",null,x(a((M=(P=e.value)==null?void 0:P.user_exam)==null?void 0:M.position)),1)])):q("",!0)}}},ws={class:"flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md"},ys=o("div",{class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},[o("i",{class:"fas fa-file-alt"}),o("div",{class:"text-xs"},"Exam")],-1),_s={class:"w-full"},bs={class:"title-sm"},vs={key:0,class:"fas fa-check-circle text-green-700"},gs={class:"flex justify-between gap-2 text-sm text-gray-400"},ks={class:"flex items-center gap-2"},Ts=o("i",{class:"far fa-clock"},null,-1),Ms=o("span",null,"Duration:",-1),Es={__name:"ModuleItemExam",props:{exam:Object},setup(r){const n=O(!1);return(e,s)=>(d(),h("div",ws,[ys,o("div",_s,[o("h4",bs,[r.exam.is_completed?(d(),h("i",vs)):q("",!0),G(" "+x(r.exam.title),1)]),o("div",gs,[o("div",ks,[Ts,o("p",null,[Ms,G(" "+x(r.exam.duration),1)])])])]),n.value||r.exam.is_completed?J(e.$slots,"default",{key:0}):(d(),F(oe,{key:1,modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),targetTime:r.exam.opening_time},null,8,["modelValue","targetTime"]))]))}},Ps={class:"flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md"},Ds=o("div",{class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},[o("i",{class:"fas fa-download"}),o("div",{class:"text-xs"},"Material")],-1),$s={class:"w-full"},Is={class:"title-sm"},Os={class:"flex justify-between gap-2 text-sm text-gray-400"},Cs={class:"flex items-center gap-2"},Ys={__name:"ModuleItemMaterial",props:{material:Object},setup(r){const n=O(!1);return(e,s)=>(d(),h("div",Ps,[Ds,o("div",$s,[o("h4",Is,x(r.material.title),1),o("div",Os,[o("div",Cs,[o("p",null,x(r.material.description),1)])])]),n.value?J(e.$slots,"default",{key:0}):(d(),F(oe,{key:1,modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),targetTime:r.material.opening_time},null,8,["modelValue","targetTime"]))]))}},qs=Ye("courseProgress",{state:()=>({userId:null}),actions:{async completeLecture(r,n,e){try{return(await ue.post(`/lectures/${n}/complete`,{course_id:r,is_completed:e})).data}catch(s){throw console.error("Error completing lecture:",s),s}},async getLectureCompletionStatus(r,n){try{return(await ue.get(`/users/${r}/lectures/${n}/completion`)).data.is_completed}catch(e){throw console.error("Error fetching lecture completion status:",e),e}},setUserId(r){this.userId=r}}}),Ls={class:"my-container py-4"},Hs={key:0,class:"error"},Ns={key:1,class:"grid md:grid-cols-3 gap-4"},Rs={class:"md:col-span-2 space-y-4"},Qs={class:"title-xl"},Vs=o("hr",{class:"my-2"},null,-1),js={class:"relative pt-1"},Bs={class:"flex mb-2 items-center justify-between"},Ws=o("div",null,[o("span",null,"Course Progress")],-1),As={class:"text-right"},Fs={class:"text-xs font-semibold inline-block text-sky-600"},Gs={class:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-sky-200"},Xs=o("h2",{class:"title-lg"},"Modules",-1),zs={class:"space-y-4"},Us=["onClick"],Zs={class:"text-center border-2 rounded-md p-1.5"},Ks=o("div",{class:"text-xs md:text-sm"},"Module",-1),Js={class:"flex-1"},Ss={class:"line-clamp-1"},er={key:0},tr={class:""},sr={class:"flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md"},rr={class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},nr={class:"text-xs"},or={key:0},ar={key:1},ir={class:"flex-1"},lr={key:0,class:"fas fa-check-circle text-green-700"},cr={class:"text-gray-500 text-xs line-clamp-1"},ur=["onClick"],dr={class:"flex items-center text-sm pt-2"},fr=["id","checked","onChange","disabled"],mr=["for"],hr=["href"],xr=["onClick"],pr={key:2},wr={key:3,class:"fixed inset-0 flex items-center justify-center z-50"},yr=o("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75"},null,-1),_r={class:"card-bg items-center justify-center p-6 md:p-8 overflow-hidden transform transition-all sm:max-w-lg sm:w-full text-center mx-2"},br=o("h3",{class:"title-lg",id:"modal-title"},"Confirm Lecture Completion",-1),vr={class:""},gr={class:"text-red-500"},kr={class:"flex gap-4"},Tr={class:"modal-content !px-3 !py-4 !max-w-xl"},Mr={class:"w-full h-full flex flex-col justify-between items-center space-y-3 overflow-hidden"},Er=o("div",{class:"sticky top-0 grow-0 shrink-0 w-full bg-white z-10"},[o("h3",{class:"title-lg text-center",id:"modal-title"},"সাবধান!! গুরুত্বপূর্ণ তথ্য সমূহ")],-1),Pr={class:"size-full grow shrink border-y py-4 overflow-y-auto scrollbar"},Dr={class:"w-full list-[square] space-y-3 list-outside pl-5"},$r=o("li",null," Exam ওপেন করা (“Start Exam” বাটনে ক্লিক) মাত্র আপনার টাইমার চালু হয়ে যাবে। আপনি Exam থেকে বেরিয়ে গেলেও টাইমার চলতে থাকবে এবং টাইম শেষে সাবমিট করতে হবে। ",-1),Ir=o("li",null," Exam দেয়ার সময়ে যদি কোনো কারনে কানেকশন লস হয়ে যায় এবং আপনার টাইম শেষ হয়ে যায় আর সাবমিট করতে না পারেন, তাহলে আর Exam দেয়ার সুযোগ পাবেন না। ",-1),Or={class:"flex items-center gap-1 md:gap-2"},Cr=o("span",{class:"pt-1 text-xs md:text-base"},"আমি পরীক্ষা শুরু করতে চাই",-1),Yr={class:"w-full flex justify-between gap-2"},Nr={__name:"MyCourseDetails",setup(r){const n=qe(),e=Le(),s=He(),t=qs(),a=Ne(),l=n.params.id,c=O(null),f=O(null),p=O([]),P=O(!1),M=O(!1),I=O(!1),v=O(null),$=O(null),N=O(!1),Q=async()=>{await s.fetchPurchasedCourse(l),c.value=s.course};se(async()=>{try{await Q()}catch(y){f.value=y.message||"An error occurred",y.response&&y.response.status===403&&e.push("/")}});const X=y=>{const E=p.value.indexOf(y);E===-1?p.value.push(y):p.value.splice(E,1)},z=y=>{y.type==="video"?(a.endedCallback=async()=>{const E=await t.completeLecture(l,y.id,!0);y.is_completed=E.is_completed,await Q()},a.showPlayer(y.link)):window.open(y.link,"_blank")},u=y=>($.value=y,y.is_completed?I.value=!0:M.value=!0),w=async()=>{if(v.value)try{await t.completeLecture(l,v.value.id,!0),v.value.is_completed=!0,P.value=!1,await Q()}catch(y){console.error("Error confirming lecture completion:",y)}},Y=y=>{v.value=y,P.value=!0},U=async()=>{e.push({path:`/my/course/${l}/exam/${$.value.id}`})};return(y,E)=>{var V,ae;return d(),h(j,null,[o("div",Ls,[f.value?(d(),h("div",Hs,x(f.value),1)):c.value?(d(),h("div",Ns,[o("div",Rs,[o("div",null,[o("h1",Qs,x(c.value.title),1),Vs]),o("div",null,[o("div",js,[o("div",Bs,[Ws,o("div",As,[o("span",Fs,x(c.value.progress)+"% ",1)])]),o("div",Gs,[o("div",{style:Re({width:c.value.progress+"%"}),class:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-sky-600"},null,4)])])]),Xs,o("ul",zs,[(d(!0),h(j,null,Z(c.value.modules,D=>(d(),h("li",{class:"card-bg p-4",key:D.id},[o("div",{onClick:_=>X(D.id),class:"flex flex-1 items-center gap-4 cursor-pointer"},[o("div",Zs,[o("div",{class:W(["text-xl font-bold text-orange-500",{"!text-gray-400":D.is_active==0}])},x(D.order),3),Ks]),o("div",Js,[o("h4",{class:W(["title-md",{"text-gray-400":D.is_active==0}])},x(D.title),3),o("p",Ss,x(D.description),1)]),o("button",null,[o("i",{class:W(p.value.includes(D.id)?"fas fa-angle-up":"fas fa-angle-down")},null,2)])],8,Us),p.value.includes(D.id)?(d(),h("div",er,[o("ul",tr,[(d(!0),h(j,null,Z(D.lectures,_=>(d(),h("li",{class:"pt-6",key:_.id},[o("div",sr,[o("div",rr,[o("i",{class:W(_.type==="virtual_platform"?"fas fa-video":"fas fa-play-circle")},null,2),o("div",nr,[_.type==="virtual_platform"?(d(),h("p",or,"Video")):(d(),h("p",ar,"Lecture"))])]),o("div",ir,[o("h4",null,[_.is_completed?(d(),h("i",lr)):q("",!0),G(" "+x(_.title),1)]),o("p",cr,x(_.description),1)]),o("button",{onClick:B(ie=>z(_),["prevent"]),type:"button",class:"btn-2"},x(_.type==="video"?"Play Video":"Join Live"),9,ur)]),o("div",dr,[o("input",{type:"checkbox",id:`completed-${_.id}`,class:"form-checkbox h-3 w-3 text-sky-600 transition duration-150 ease-in-out",checked:_.is_completed,onChange:ie=>Y(_),disabled:_.is_completed},null,40,fr),o("label",{for:`completed-${_.id}`,class:"ml-2"}," Have you completed this lecture? ",8,mr)])]))),128)),(d(!0),h(j,null,Z(D.materials,_=>(d(),h("li",{class:"pt-6",key:_.id},[K(Ys,{material:_},{default:A(()=>[_.download_link?(d(),h("a",{key:0,href:_.download_link,class:"btn-2",download:""}," Download ",8,hr)):q("",!0)]),_:2},1032,["material"])]))),128)),(d(!0),h(j,null,Z(D.exams,_=>(d(),h("li",{class:"pt-6",key:_.id},[K(Es,{exam:_},{default:A(()=>[o("button",{onClick:B(ie=>u(_),["prevent"]),type:"button",class:"btn-2"},x(_.is_completed?"result":"Open"),9,xr)]),_:2},1032,["exam"])]))),128))])])):q("",!0)]))),128))])])])):(d(),h("div",pr,"Loading...")),P.value?(d(),h("div",wr,[yr,o("div",_r,[br,o("div",vr,[o("p",gr,' Are you sure you have completed the lecture "'+x((V=v.value)==null?void 0:V.title)+'"? ',1)]),o("div",kr,[o("button",{onClick:w,type:"button",class:"btn-2"},"Yes"),o("button",{onClick:E[0]||(E[0]=D=>P.value=!1),type:"button",class:"btn-3"},"No")])])])):q("",!0)]),M.value?(d(),h("div",{key:0,class:"modal",onClick:E[3]||(E[3]=B(D=>M.value=!1,["self"]))},[o("div",Tr,[o("div",Mr,[Er,o("div",Pr,[o("ul",Dr,[o("li",null," Exam এর সময়সীমা থাকবে "+x((ae=$.value)==null?void 0:ae.duration)+" মিনিট। এই সময়ের মধ্যে আপনাকে Exam সাবমিট করতে হবে। ",1),$r,Ir])]),o("form",{onSubmit:B(U,["prevent"]),class:"grow-0 shrink-0 w-full flex justify-end gap-1 md:gap-4"},[o("button",{onClick:E[1]||(E[1]=D=>M.value=!1),type:"button",class:"mr-auto btn-contrast px-1 md:px-4 text-xs md:text-base"}," Cancel "),o("label",Or,[Qe(o("input",{"onUpdate:modelValue":E[2]||(E[2]=D=>N.value=D),type:"checkbox",required:""},null,512),[[Ve,N.value]]),Cr]),o("button",{type:"submit",class:W(["btn-2 disabled:opacity-50 px-1 md:px-4 text-xs md:text-base",{"opacity-50":!N.value}])}," Start Exam ",2)],32)])])])):q("",!0),I.value?(d(),F(hs,{key:1,selectedExam:$.value,class:"modal",onClick:E[5]||(E[5]=B(D=>I.value=!1,["self"]))},{answerSheet:A(()=>[o("div",Yr,[K(ps,{courseId:ee(l),examId:$.value.id},null,8,["courseId","examId"]),K(ee(je),{to:{name:"My Exam AnswerSheet",params:{courseId:ee(l),examId:$.value.id}},class:"btn-2 px-2 text-center ml-auto"},{default:A(()=>[G(" Answer Sheet ")]),_:1},8,["to"])])]),default:A(()=>[o("button",{onClick:E[4]||(E[4]=D=>I.value=!1),type:"button",class:"btn-contrast"},"Close")]),_:1},8,["selectedExam"])):q("",!0)],64)}}};export{Nr as default};
