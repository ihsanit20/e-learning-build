import{r as x,e as a,f as r,g as e,t as h,y as O,C as T,q as y,F as S,h as U,z as q,a0 as M,A as $,w as D,s as j}from"./index-CGxlq7hy.js";import{u as C}from"./question-DxhLe5kl.js";import{_ as E}from"./TextEditor-Cioikkub.js";const A={class:"modal z-50"},N={class:"modal-content"},B={key:0,class:"text-red-500"},I={key:1,class:"text-red-500"},L={key:2,class:"grid py-2 gap-1.5 bg-gray-200 rounded-lg"},z=["onUpdate:modelValue"],F=["onUpdate:modelValue"],H={class:"grow-0 shrink-0 pt-1"},G=["onClick"],J={class:"grid"},K={class:"flex gap-4 justify-center"},ve={__name:"AddQuestionModal",props:{chapterId:{required:!0},questionType:String},emits:["close"],setup(m,{emit:f}){const _=f,i=m,b=C(),o=x({}),c=x(""),n=x(""),t=x([{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1}]),g=()=>{t.value.push({option_text:"",is_correct:!1})},w=p=>{t.value.splice(p,1)},V=async()=>{o.value={};try{await b.store({chapter_id:i.chapterId,type:i.questionType,question_text:c.value,explanation:n.value,mcq_options:t.value}),c.value="",_("close")}catch(p){p.response&&p.response.data&&p.response.data.errors&&(o.value=p.response.data.errors)}};return(p,l)=>(a(),r("div",A,[e("div",N,[e("h2",null,h(m.questionType)+" Question",1),e("form",{onSubmit:O(V,["prevent"]),class:"space-y-4 w-full"},[T(E,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=d=>c.value=d),placeholder:"Question Text",required:""},null,8,["modelValue"]),o.value.question_text?(a(),r("div",B,h(o.value.question_text[0]),1)):y("",!0),o.value.chapter_id?(a(),r("div",I,h(o.value.chapter_id[0]),1)):y("",!0),m.questionType==="MCQ"?(a(),r("div",L,[l[3]||(l[3]=e("div",{class:"flex justify-between text-sm px-2"},[e("p",null,"Ans"),e("p",null,"Options"),e("p",null,"Delete")],-1)),(a(!0),r(S,null,U(t.value,(d,u)=>(a(),r("div",{key:u,class:"flex items-center gap-4 px-4"},[q(e("input",{class:"grow-0 shrink-0",value:!0,name:"correct",type:"checkbox","onUpdate:modelValue":s=>d.is_correct=s},null,8,z),[[M,d.is_correct]]),q(e("input",{class:"input-1 text-black placeholder:italic bg-white",type:"text","onUpdate:modelValue":s=>d.option_text=s,placeholder:"Option",required:""},null,8,F),[[$,d.option_text]]),e("div",H,[e("i",{onClick:s=>w(u),class:"fa fa-trash text-red-700 cursor-pointer"},null,8,G)])]))),128)),e("div",{class:"flex justify-center items-center pt-0.5"},[e("button",{type:"button",onClick:g,class:"px-2 pt-1 border rounded bg-gray-300 border-gray-400"}," + Add Option ")])])):y("",!0),e("div",J,[l[4]||(l[4]=e("h2",{class:"text-center md:text-left"},"Question Explanation",-1)),q(e("textarea",{class:"input-1","onUpdate:modelValue":l[1]||(l[1]=d=>n.value=d),placeholder:"Question Explanation"},null,512),[[$,n.value]])]),e("div",K,[l[5]||(l[5]=e("button",{type:"submit",class:"btn-2"},"Save Question",-1)),e("button",{type:"button",onClick:l[2]||(l[2]=d=>_("close")),class:"btn-contrast"},"Cancel")])],32)])]))}},P={key:0,class:"modal"},R={class:"modal-content space-y-2"},W={class:"py-2 space-y-1"},X=["innerHTML"],Y={key:0,class:"text-red-500"},Z={class:"flex gap-4"},xe={__name:"DeleteQuestionModal",props:{question:{type:Object,required:!0,default:()=>({name:"",id:null})}},emits:["close"],setup(m,{emit:f}){const _=f,i=m,b=C(),o=x({});D(()=>i.question,n=>{},{immediate:!0});const c=async()=>{o.value={};try{await b.delete(i.question.id),_("close")}catch(n){n.response&&n.response.data&&n.response.data.errors&&(o.value=n.response.data.errors)}};return(n,t)=>i.question?(a(),r("div",P,[e("div",R,[t[3]||(t[3]=e("h2",null,"Delete Question",-1)),e("div",W,[j(" Are you sure you want to delete the question ID:"+h(m.question.id)+"? ",1),t[1]||(t[1]=e("hr",null,null,-1)),e("div",{class:"overflow-hidden whitespace-pre-wrap line-clamp-3 italic",innerHTML:i.question.question_text},null,8,X),t[2]||(t[2]=e("hr",null,null,-1))]),o.value.chapter_id?(a(),r("div",Y,h(o.value.chapter_id[0]),1)):y("",!0),e("div",Z,[e("button",{onClick:c,class:"btn-2"},"Delete"),e("button",{type:"button",onClick:t[0]||(t[0]=g=>_("close")),class:"btn-contrast"},"Cancel")])])])):y("",!0)}},ee={class:"modal"},te={class:"modal-content space-y-2 max-w-[720px] min-w-80 md:min-w-[480px] lg:min-w-[580px]"},se={key:0,class:"text-red-500"},oe={key:1,class:"text-red-500"},ne={key:2,class:"grid py-2 gap-1.5 bg-gray-200 rounded-lg"},le=["onUpdate:modelValue"],ie=["onUpdate:modelValue"],ae={class:"grow-0 shrink-0 pt-1"},re=["onClick"],ue={class:"grid"},de={class:"flex gap-4 justify-center"},_e={__name:"EditQuestionModal",props:{question:{type:Object,required:!0},questionType:String},emits:["close"],setup(m,{emit:f}){var p,l,d;const _=f,i=m,b=C(),o=x(((p=i.question)==null?void 0:p.question_text)||""),c=x(((l=i.question)==null?void 0:l.explanation)||""),n=x(((d=i.question)==null?void 0:d.mcq_options)||[]),t=x({}),g=()=>{n.value.push({option_text:"",is_correct:!1})},w=u=>{n.value.splice(u,1)};D(()=>i.question,u=>{u&&(o.value=u.question_text)},{immediate:!0});const V=async()=>{t.value={};try{await b.update(i.question.id,{question_text:o.value,chapter_id:i.question.chapter_id,explanation:c.value,mcq_options:n.value}),_("close")}catch(u){u.response&&u.response.data&&u.response.data.errors&&(t.value=u.response.data.errors)}};return(u,s)=>(a(),r("div",ee,[e("div",te,[s[6]||(s[6]=e("h2",null,"Edit Question",-1)),e("form",{onSubmit:O(V,["prevent"]),class:"space-y-4"},[T(E,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=v=>o.value=v),placeholder:"Question Text",required:""},null,8,["modelValue"]),t.value.question_text?(a(),r("div",se,h(t.value.question_text[0]),1)):y("",!0),t.value.chapter_id?(a(),r("div",oe,h(t.value.chapter_id[0]),1)):y("",!0),m.questionType==="MCQ"?(a(),r("div",ne,[s[3]||(s[3]=e("div",{class:"flex justify-between text-sm px-2"},[e("p",null,"Ans"),e("p",null,"Options"),e("p",null,"Delete")],-1)),(a(!0),r(S,null,U(n.value,(v,Q)=>(a(),r("div",{key:Q,class:"flex items-center gap-4 px-4"},[q(e("input",{class:"grow-0 shrink-0",value:!0,name:"correct",type:"checkbox","onUpdate:modelValue":k=>v.is_correct=k},null,8,le),[[M,v.is_correct]]),q(e("input",{class:"input-1 text-black placeholder:italic bg-white",type:"text","onUpdate:modelValue":k=>v.option_text=k,placeholder:"Option",required:""},null,8,ie),[[$,v.option_text]]),e("div",ae,[e("i",{onClick:k=>w(Q),class:"fa fa-trash text-red-700 cursor-pointer"},null,8,re)])]))),128)),e("div",{class:"flex justify-center items-center pt-0.5"},[e("button",{type:"button",onClick:g,class:"px-2 pt-1 border rounded bg-gray-300 border-gray-400"}," + Add Option ")])])):y("",!0),e("div",ue,[s[4]||(s[4]=e("h2",{class:"text-center md:text-left"},"Question Explanation",-1)),q(e("textarea",{class:"input-1","onUpdate:modelValue":s[1]||(s[1]=v=>c.value=v),placeholder:"Question Explanation"},null,512),[[$,c.value]])]),e("div",de,[s[5]||(s[5]=e("button",{type:"submit",class:"btn-2"},"Save Question",-1)),e("button",{type:"button",onClick:s[2]||(s[2]=v=>_("close")),class:"btn-contrast"},"Cancel")])],32)])]))}};export{ve as _,_e as a,xe as b};
