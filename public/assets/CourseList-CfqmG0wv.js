import{u as $,c as T,r as v,d as l,e as a,f as e,t as n,x as h,q as k,A as M,H as V,I as B,o as F,s as L,y as x,z as C,F as D,g as j,j as N}from"./index-D4QG4fpw.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O=i=>(V("data-v-c0ad9860"),i=i(),B(),i),z={key:0,class:"modal"},A={class:"relative card-bg p-4 md:p-8 max-w-3xl h-2/3"},E={class:"overflow-y-scroll scrollbar space-y-2 p-2 bg-gray-100 rounded-md"},H=["src"],R=O(()=>e("p",{class:"text-sm"}," **File size should be less than 2MB and aspect ratio 9:16 (720px x 1280px)** ",-1)),U={class:"flex w-full text-center gap-4"},q={class:"text-center text-green-600"},K={class:"text-center text-red-600"},P={class:"title-md"},X={class:"md:flex justify-between"},Y=O(()=>e("b",null,"Course Description:",-1)),G=["innerHTML"],J={key:0},Q={class:"font-bold text-sky-600"},W={class:""},Z={class:"title-sm"},ee={__name:"CourseViewModal",props:{course:Object,isOpen:Boolean},emits:["close"],setup(i,{emit:b}){const m=i,d=$(),_=b,o=T(()=>d.courses.find(s=>s.id===m.course.id)),p=()=>{_("close")},u=v(null),f=v(""),y=v(""),g=s=>{const r=s.target.files[0];r&&r.size>2*1024*1024?(y.value="File should be less than 2MB",u.value=null,document.getElementById("file-input").value=""):(u.value=r,y.value="")},w=async()=>{if(!u.value)return;const s=new FormData;s.append("thumbnail",u.value);try{await d.uploadThumbnail(m.course.id,s),f.value="Thumbnail uploaded successfully!",u.value=null,document.getElementById("file-input").value=""}catch{y.value="An error occurred while uploading the thumbnail"}},c=s=>M(new Date(s),"dd-MMM-yyyy");return(s,r)=>i.isOpen?(l(),a("div",z,[e("div",A,[e("div",{class:"flex top-2 right-2 z-50 absolute"},[e("button",{class:"bg-red-500 px-2 rounded-full text-white",onClick:p},"X")]),e("div",E,[e("img",{class:"aspect-video object-cover rounded-lg",src:o.value.thumbnail,alt:"Thumbnail"},null,8,H),R,e("div",U,[e("input",{id:"file-input",type:"file",onChange:g,class:"input-1"},null,32),e("button",{class:"btn-1",onClick:w},"Upload")]),e("p",q,n(f.value),1),e("p",K,n(y.value),1),e("h2",P,n(o.value.title),1),e("div",X,[e("p",null,[h(" Course Category: "),e("b",null,n(o.value.course_category),1)]),e("p",null,[h(" Course Type: "),e("b",null,n(o.value.course_type),1)])]),e("div",null,[Y,e("div",{innerHTML:o.value.description,class:""},null,8,G)]),o.value.course_type==="Live Course"?(l(),a("p",J,[h(" Start Date: "),e("span",Q,n(c(o.value.start_date)),1)])):k("",!0),e("p",W,[h(" Price: à§³ "),e("span",Z,n(o.value.price),1)])]),e("div",null,[e("button",{class:"btn-contrast",onClick:p},"Close")])])])):k("",!0)}},se=I(ee,[["__scopeId","data-v-c0ad9860"]]),te={key:0,class:"modal"},oe=e("h2",{class:"title-md text-red-600 text-center"},"Confirm Delete",-1),le=e("p",{class:"text-center"},"Are you sure you want to delete this course?",-1),ae={__name:"CourseDeleteModal",props:{isOpen:Boolean,course:Object},emits:["close","confirmDelete"],setup(i,{emit:b}){const m=i,d=b,_=$(),o=async()=>{m.course&&(await _.deleteCourse(m.course.id),d("confirmDelete"),d("close"))},p=()=>{d("close")};return(u,f)=>i.isOpen?(l(),a("div",te,[e("div",{class:"modal-content card-bg p-4 md:p-8"},[oe,le,e("div",{class:"flex space-x-4 justify-center"},[e("button",{class:"btn-contrast",onClick:o},"Yes"),e("button",{class:"btn-2",onClick:p},"No")])])])):k("",!0)}},ne={class:"my-container space-y-2 relative"},ce={class:"flex justify-between items-center"},de=e("h1",{class:"title-lg text-center"},"Courses",-1),ie={key:0,class:"space-y-2"},ue=N('<div class="md:col-span-1 rounded md:px-2"><div class="aspect-video bg-gray-200"></div></div><div class="md:col-span-3 md:px-2"><div class="h-6 bg-gray-200 rounded-full mb-2"></div><div class="h-4 bg-gray-200 rounded-full"></div></div><div class="md:col-span-1 flex items-center justify-center px-2"><div class="h-6 bg-gray-200 rounded-full w-20"></div></div><div class="md:col-span-3 flex justify-between items-center gap-2 md:px-2"><div class="h-10 bg-gray-200 rounded-full w-20"></div><div class="h-10 bg-gray-200 rounded-full w-20"></div><div class="h-10 bg-gray-200 rounded-full w-20"></div><div class="h-10 bg-gray-200 rounded-full w-20"></div></div>',4),re=[ue],_e={key:1},pe={key:0,class:"text-center"},ve=e("p",null,"No courses available.",-1),he=[ve],me={key:1,class:"space-y-2"},fe={class:"md:col-span-1 px-2"},ye=["src"],be={class:"font-bold text-sky-600 bg-sky-100 px-6 text-center rounded-b-md"},xe={class:"md:col-span-4 md:px-4 space-y-2 flex flex-col justify-between"},ge={class:"title-md"},we={class:"text-sm md:text-base"},Ce=e("b",null,"Created at: ",-1),ke={class:"flex justify-between"},Me={class:"font-bold text-sky-600"},$e={key:0},De={class:"font-bold text-sky-600"},je={key:1,class:"bg-pink-50 px-3 rounded-full"},Oe={class:"font-bold text-pink-600"},Se={class:"flex justify-between items-center gap-2"},Te=["onClick"],Ve=e("i",{class:"fas fa-eye"},null,-1),Be=e("p",{class:"hidden md:flex"},"View",-1),Fe=[Ve,Be],Le=e("i",{class:"far fa-edit"},null,-1),Ne=e("p",{class:"hidden md:flex"},"Edit",-1),Ie=["onClick"],ze=e("i",{class:"fas fa-trash-alt"},null,-1),Ae=[ze],Ee=e("i",{class:"fas fa-plus"},null,-1),He=e("p",null,"Module",-1),qe={__name:"CourseList",setup(i){const b=c=>{const s=new Date(c);return M(s,"dd-MMM-yyyy")},m=c=>{const s=new Date(c);return M(s,"dd-MMM-yyyy, hh:mm a")},d=$(),_=v([]),o=v(null),p=v(!1),u=v(!1),f=v(!0);F(async()=>{await d.fetchCourses(),_.value=d.courses.sort((c,s)=>s.id-c.id),f.value=!1});const y=c=>{o.value=c,p.value=!0},g=c=>{o.value=c,u.value=!0},w=async()=>{await d.deleteCourse(o.value.id),_.value=d.courses};return(c,s)=>{const r=L("RouterLink");return l(),a("div",ne,[e("div",ce,[de,x(r,{class:"btn-2",to:"/new"},{default:C(()=>[h("Add New")]),_:1})]),f.value?(l(),a("div",ie,[(l(),a(D,null,j(3,t=>e("div",{key:t,class:"card-bg md:py-2 p-4 md:p-2 grid md:grid-cols-8 md:divide-x-2 animate-pulse"},re)),64))])):(l(),a("div",_e,[_.value.length===0?(l(),a("div",pe,he)):(l(),a("ul",me,[(l(!0),a(D,null,j(_.value,t=>(l(),a("li",{class:"card-bg md:py-4 p-4 md:p-2 grid md:grid-cols-5 md:divide-x-2",key:t.id},[e("div",fe,[e("img",{class:"aspect-video object-cover rounded-t-md",src:t.thumbnail,alt:"Thumbnail"},null,8,ye),e("p",be,n(t.course_category),1)]),e("div",xe,[e("h2",ge,n(t.title),1),e("p",we,[Ce,h(n(m(t.created_at)),1)]),e("div",ke,[e("p",null,[h(" Fee: "),e("span",Me,n(t.price>0?`${t.price} TK`:"Free"),1)]),t.course_type==="Live Course"?(l(),a("p",$e,[h(" Start Date: "),e("span",De,n(b(t.start_date)),1)])):(l(),a("p",je,[e("span",Oe,n(t.course_type),1)]))]),e("div",Se,[e("button",{class:"btn-1 pb-2",onClick:S=>y(t)},Fe,8,Te),x(r,{to:"/course-list/"+t.id+"/edit",class:"btn-1 pb-2"},{default:C(()=>[Le,Ne]),_:2},1032,["to"]),e("button",{class:"btn-contrast pb-2",onClick:S=>g(t)},Ae,8,Ie),x(r,{class:"btn-1",to:"/course-list/"+t.id+"/modules"},{default:C(()=>[Ee,He]),_:2},1032,["to"])])])]))),128))]))])),x(se,{class:"absolute top-0 shadow-2xl w-full z-40",course:o.value,isOpen:p.value,onClose:s[0]||(s[0]=t=>p.value=!1)},null,8,["course","isOpen"]),x(ae,{class:"absolute top-0 shadow-2xl w-full z-40",course:o.value,isOpen:u.value,onClose:s[1]||(s[1]=t=>u.value=!1),onConfirmDelete:w},null,8,["course","isOpen"])])}}};export{qe as default};
