import{r as t,k,b as C,c as q,o as N,e as w,f as v,g as e,x as R,q as y,t as m,z as h,D as _,n as x,p as b}from"./index-D3cvxqGp.js";const V={class:"max-w-md mx-auto my-10 px-2"},D={class:"bg-white p-6 rounded-lg shadow-md"},S=e("h2",{class:"title-lg text-center"},"Reset Password",-1),B={class:"font-medium text-gray-900 text-center"},M={class:"font-bold"},T=e("label",{for:"new-password",class:"block font-medium text-gray-700"},"New Password",-1),z={class:"relative"},E=["type"],U=e("label",{for:"new-password-confirmation",class:"block font-medium text-gray-700"},"Confirm New Password",-1),$={class:"relative"},j=["type"],A={key:0,class:"mt-4 text-sm text-red-500 text-center"},F={key:1,class:"mt-4 text-sm text-green-500 text-center"},Q=e("div",{class:"flex justify-center"},[e("button",{type:"submit",class:"btn-2"},"Reset Password")],-1),H={__name:"ResetPassword",setup(Y){const u=t(""),i=t(""),d=t(""),a=t(""),n=t(""),f=k(),c=C(),g=q(),r=t(!1),l=t(!1),P=async()=>{try{const p=c.query.phone;await f.resetPassword(p||d.value,u.value,i.value)&&(n.value="Password reset successfully.",a.value="",setTimeout(()=>{g.push("/login")},2e3))}catch{a.value=f.error||"Failed to reset password. Try again.",n.value=""}};return N(()=>{c.query.phone&&(d.value=c.query.phone)}),(p,s)=>(w(),v("div",V,[e("div",D,[S,e("form",{onSubmit:R(P,["prevent"]),class:"space-y-4"},[e("div",B,[y(" Your phone number is "),e("span",M,m(d.value),1),y(". ")]),e("div",null,[T,e("div",z,[h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>u.value=o),type:r.value?"text":"password",id:"new-password",name:"new-password",class:"input-1 w-full",placeholder:"Enter new password",required:""},null,8,E),[[_,u.value]]),e("button",{type:"button",class:"absolute inset-y-0 right-0 px-3 text-gray-600",onClick:s[1]||(s[1]=o=>r.value=!r.value)},[e("i",{class:x(r.value?"fas fa-eye-slash":"far fa-eye")},null,2)])])]),e("div",null,[U,e("div",$,[h(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>i.value=o),type:l.value?"text":"password",id:"new-password-confirmation",name:"new-password-confirmation",class:"input-1 w-full",placeholder:"Confirm new password",required:""},null,8,j),[[_,i.value]]),e("button",{type:"button",class:"absolute inset-y-0 right-0 px-3 text-gray-600",onClick:s[3]||(s[3]=o=>l.value=!l.value)},[e("i",{class:x(l.value?"fas fa-eye-slash":"far fa-eye")},null,2)])])]),a.value?(w(),v("div",A,m(a.value),1)):b("",!0),n.value?(w(),v("div",F,m(n.value),1)):b("",!0),Q],32)])]))}};export{H as default};
