import{_ as x,u as b,k as w,d as o,e as V,o as r,g as u,a as s,m as k,p as a,C as F,F as M,h as U,i as D,v as n,t as C,s as I,x as T,y as B}from"./index-Bw9lAbC-.js";import{u as N}from"./category-BH_yzP2W.js";const _=l=>(T("data-v-c526714b"),l=l(),B(),l),A={class:"my-container max-w-xl"},E={class:"card-bg p-4 md:p-8 flex flex-col items-center relative"},L=_(()=>s("h1",{class:"title-lg"},"Add New Course",-1)),P=_(()=>s("option",{disabled:"",value:""},"Select a Category",-1)),R=["value"],j=_(()=>s("button",{type:"submit",class:"btn-2"},"Add Course",-1)),q={key:0,class:"message"},z={__name:"CourseForm",setup(l){const g=b(),y=N(),h=w(),c=o(""),i=o(""),d=o(""),p=o(""),v=o(""),m=o(""),S=async()=>{const f={title:c.value,description:i.value,price:d.value,start_date:p.value,course_category:v.value};try{await g.createCourse(f),m.value="The course is successfully added",setTimeout(()=>{h.push("/course-list")},2e3)}catch(t){console.error("Failed to add course:",t)}};return V(async()=>{await y.fetchCategories()}),(f,t)=>(r(),u("div",A,[s("div",E,[L,s("form",{onSubmit:k(S,["prevent"]),class:"space-y-2"},[a(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),class:"input-1"},[P,(r(!0),u(M,null,U(D(y).categories,e=>(r(),u("option",{key:e.id,value:e.name},C(e.name),9,R))),128))],512),[[F,v.value]]),a(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),placeholder:"Title",class:"input-1"},null,512),[[n,c.value]]),a(s("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),placeholder:"Description",class:"input-1"},null,512),[[n,i.value]]),a(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>d.value=e),placeholder:"Price",class:"input-1"},null,512),[[n,d.value]]),a(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),type:"date",placeholder:"Start Date",class:"input-1"},null,512),[[n,p.value]]),j],32),m.value?(r(),u("p",q,C(m.value),1)):I("",!0)])]))}},J=x(z,[["__scopeId","data-v-c526714b"]]);export{J as default};
