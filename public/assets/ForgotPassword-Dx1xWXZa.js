import{r as n,k as v,c as _,e as l,f as c,g as e,x as f,z as x,A as y,t as i,p as d}from"./index-D3cvxqGp.js";const g={class:"max-w-md mx-auto my-10 px-2"},b={class:"bg-white p-6 rounded-lg shadow-md"},P=e("h2",{class:"title-lg text-center"},"Forgot Password",-1),X=e("label",{for:"phone",class:"block font-medium text-gray-700"},"Phone Number",-1),w={class:"relative"},k=e("span",{class:"absolute p-2 left-0"},"+88",-1),O={key:0,class:"mt-4 text-sm text-red-500 text-center"},T={key:1,class:"mt-4 text-sm text-green-500 text-center"},S=e("div",{class:"flex justify-center"},[e("button",{type:"submit",class:"btn-2"},"Send OTP")],-1),B={__name:"ForgotPassword",setup(V){const a=n(""),s=n(""),o=n(""),u=v(),p=_(),h=async()=>{try{const t=`+88${a.value}`;await u.sendOtp(t)&&(o.value="OTP sent successfully. Please check your phone.",s.value="",setTimeout(()=>{p.push({name:"OtpVerification",query:{phone:t}})},1e3))}catch(t){console.log("Error:",t),t.response&&t.response.status===404?s.value="The phone number is not registered.":t.response&&t.response.status===500?s.value="Failed to send OTP. Please try again later.":s.value=u.error||"An unexpected error occurred.",o.value=""}};return(t,r)=>(l(),c("div",g,[e("div",b,[P,e("form",{onSubmit:f(h,["prevent"]),class:"space-y-4"},[e("div",null,[X,e("div",w,[x(e("input",{"onUpdate:modelValue":r[0]||(r[0]=m=>a.value=m),type:"text",id:"phone",name:"phone",class:"input-1 pl-10",autofocus:"",placeholder:"01XXXXXXXXX",required:""},null,512),[[y,a.value]]),k])]),s.value.value?(l(),c("div",O,i(s.value),1)):d("",!0),o.value.value?(l(),c("div",T,i(o.value),1)):d("",!0),S],32)])]))}};export{B as default};
