import{P as $,r as p,I as R,x as l,C as n,W as T,z as s,A as u,F as f,O as V,X as v,L,G as m,D as B,Z as P,T as z,y as t,H as r,M as S}from"./vue-CcEtAIOs.js";import{b as H,u as A,c as G,f as I}from"./index-Dvq6w91M.js";import"./vendor-PJuFQbji.js";const O={class:"my-container py-4"},q={key:0,class:"error"},K={key:1},W={key:2,class:"grid md:grid-cols-3 gap-4"},X={class:"md:order-last md:col-span-1"},Z={class:"sticky top-[86px]"},J={class:"card-bg p-4 relative"},Q={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-green-600 px-10 py-0.5 text-sm text-white font-medium"},U={class:"rounded overflow-hidden"},Y=["src"],ss={class:"flex justify-between"},es={class:"font-bold text-sky-600"},ts={key:0},ls={class:"font-bold text-sky-600"},os={key:1,class:"bg-pink-50 px-3 rounded-full"},is={class:"font-bold text-pink-600"},as={key:2,class:"mt-4 p-3 text-center border rounded-lg bg-red-50 text-red-600 font-medium"},ns={class:"md:col-span-2"},ds={class:"md:title-lg font-bold"},rs={class:"-mb-28 pt-2"},cs={class:"space-y-4 px-px"},us=["onClick"],vs={class:"text-center border-2 rounded-md p-1.5"},ps={class:"flex-1"},fs={class:"flex gap-4"},gs={key:0,class:"flex items-center gap-2 text-gray-500"},ys={key:1,class:"flex items-center gap-2 text-gray-500"},ms={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-orange-100 px-10 text-sm text-orange-500 font-medium"},_s={key:0},xs={class:"space-y-2"},bs=["onClick"],hs={class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},ks={class:"text-xs"},Cs={key:0},ws={key:1},Ms={class:"title-sm"},Ls={class:"flex items-center gap-2 text-sm text-gray-400"},Ss=["onClick"],Ds={class:"w-full"},js={class:"title-sm"},Fs={class:"flex justify-between gap-2 text-sm text-gray-400"},Ns={class:"flex items-center gap-2"},Es={class:"flex items-center gap-2"},$s={class:"py-2 md:min-h-[540px]"},Rs=["innerHTML"],Ts={key:3,class:"flex flex-col gap-8 justify-center items-center"},Hs={__name:"CourseDetails",setup(Vs){const D=H(),_=A(),j=G(),F=$(),x=z(),b=F.params.id,c=p([]),i=p(null),g=p(null),h=p(!0);R(async()=>{try{await _.fetchCourse(b),i.value=_.course}catch(a){g.value=a}finally{h.value=!1}});const y=a=>{const e=new Date(a);return I(e,"dd-MMM-yyyy")},N=a=>{const e=c.value.indexOf(a);e===-1?c.value.push(a):c.value.splice(e,1)},k=(a,e)=>{e||(!D.token&&!localStorage.getItem("auth_token")?x.push({name:"login"}):a.type==="video"?j.showPlayer(a.link):window.open(a.link,"_blank"))},C=(a="me")=>{x.push({name:"Checkout",params:{id:b},query:{for:a}})};return(a,e)=>{var M;const w=P("RouterLink");return t(),l("div",O,[g.value?(t(),l("div",q,n(g.value),1)):h.value?(t(),l("div",K,e[2]||(e[2]=[T('<div class="grid md:grid-cols-3 gap-4"><div class="md:order-last md:col-span-1"><div class="card-bg p-4 animate-pulse"><div class="rounded overflow-hidden h-52 bg-gray-200"></div><div class="flex justify-between mt-4"><div class="h-6 w-20 bg-gray-200 rounded-full"></div><div class="h-6 w-20 bg-gray-200 rounded-full"></div></div><div class="h-10 mt-4 bg-gray-200 rounded-full"></div></div></div><div class="md:col-span-2 space-y-4"><div class="h-10 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="space-y-2"><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div></div></div></div>',1)]))):(M=i.value)!=null&&M.is_active?(t(),l("div",W,[s("div",X,[s("div",Z,[s("div",J,[i.value.price<=0?(t(),l("div",Q," Free ")):u("",!0),s("div",U,[s("img",{class:"w-full aspect-video object-cover",src:i.value.thumbnail,alt:""},null,8,Y)]),i.value.is_published&&i.value.is_active?(t(),l(f,{key:1},[s("div",ss,[s("p",null,[e[3]||(e[3]=v(" Fee: ")),s("span",es,n(i.value.price>0?`${i.value.price} TK`:"Free"),1)]),i.value.course_type==="Live Course"?(t(),l("p",ts,[e[4]||(e[4]=v(" Start Date: ")),s("span",ls,n(y(i.value.start_date)),1)])):(t(),l("p",os,[s("span",is,n(i.value.course_type),1)]))]),i.value.is_purchased?(t(),V(w,{key:0,to:{name:"My Course Details",params:{id:i.value.id}},class:"btn-2"},{default:L(()=>e[5]||(e[5]=[v(" Start Learning ")])),_:1},8,["to"])):(t(),l("button",{key:1,class:"btn-2",onClick:e[0]||(e[0]=o=>C("me"))},"Enroll Now")),s("button",{class:"btn-link mt-2 mx-auto",onClick:e[1]||(e[1]=o=>C("someone"))}," Purchase for someone else ")],64)):(t(),l("div",as," ðŸš« Enrollment is currently off "))])])]),s("div",ns,[s("div",null,[s("h1",ds,n(i.value.title),1)]),e[16]||(e[16]=s("div",{class:"sticky w-full top-14 md:top-16 py-4 md:px-3 flex items-center gap-2 bg-gray-100 border-y z-40 -mb-28 mt-2"},[s("a",{href:"#modules",class:"btn-1"},"Modules"),s("a",{href:"#course-details",class:"btn-1"},"Course Details")],-1)),e[17]||(e[17]=s("div",{id:"modules",class:"py-16"},null,-1)),s("div",rs,[e[14]||(e[14]=s("h2",{class:"title-lg py-1"},"Modules",-1)),s("ul",cs,[(t(!0),l(f,null,m(i.value.modules,o=>(t(),l("li",{key:o.id,class:"card-bg p-4 relative"},[s("div",{onClick:d=>N(o.id),class:"flex flex-1 items-center gap-4 cursor-pointer"},[s("div",vs,[s("div",{class:r(["text-xl font-bold text-orange-500",{"!text-gray-400":o.is_active==0}])},n(o.order),3),e[6]||(e[6]=s("div",{class:"text-xs md:text-sm"},"Module",-1))]),s("div",ps,[s("h4",{class:r(["title-md",{"text-gray-400":o.is_active==0}])},n(o.title),3),s("div",fs,[o.lectures.length>0?(t(),l("div",gs,[e[7]||(e[7]=s("i",{class:"fas fa-video text-xs"},null,-1)),s("p",null,n(o.lectures.length)+" Lectures",1)])):u("",!0),o.exams.length>0?(t(),l("div",ys,[e[8]||(e[8]=s("i",{class:"fas fa-file-alt text-xs"},null,-1)),s("p",null,n(o.exams.length)+" Exams",1)])):u("",!0)])]),s("button",null,[s("i",{class:r(c.value.includes(o.id)?"fas fa-angle-up":"fas fa-angle-down")},null,2)]),o.is_paid==0?(t(),l("div",ms," Free ")):u("",!0)],8,us),c.value.includes(o.id)?(t(),l("div",_s,[s("ul",xs,[(t(!0),l(f,null,m(o.lectures,d=>(t(),l("li",{key:d.id},[s("a",{onClick:S(E=>k(d,o.is_paid),["prevent"]),class:r(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":o.is_paid==1}])},[s("div",hs,[s("i",{class:r(d.type==="virtual_platform"?"fas fa-video":"fas fa-play-circle")},null,2),s("div",ks,[d.type==="virtual_platform"?(t(),l("p",Cs,"Live")):(t(),l("p",ws,"Rec"))])]),s("div",null,[s("h4",Ms,n(d.title),1),s("div",Ls,[e[9]||(e[9]=s("i",{class:"far fa-calendar-check"},null,-1)),s("p",null,n(y(d.opening_time)),1)])])],10,bs)]))),128)),(t(!0),l(f,null,m(o.exams,d=>(t(),l("li",{key:d.id},[s("a",{class:r(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":o.is_paid==1}]),onClick:S(E=>k(a.lecture,o.is_paid),["prevent"])},[e[13]||(e[13]=s("div",{class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},[s("i",{class:"fas fa-file-alt"}),s("div",{class:"text-xs"},"Exam")],-1)),s("div",Ds,[s("h4",js,n(d.title),1),s("div",Fs,[s("div",Ns,[e[10]||(e[10]=s("i",{class:"far fa-calendar-check"},null,-1)),s("p",null,n(y(d.opening_time)),1)]),s("div",Es,[e[12]||(e[12]=s("i",{class:"far fa-clock"},null,-1)),s("p",null,[e[11]||(e[11]=s("span",null,"Duration:",-1)),v(" "+n(d.duration),1)])])])])],10,Ss)]))),128))])])):u("",!0)]))),128))])]),e[18]||(e[18]=s("div",{id:"course-details",class:"py-16"},null,-1)),s("div",$s,[e[15]||(e[15]=s("h2",{class:"title-lg py-1"},"Course Details",-1)),s("div",{innerHTML:i.value.description,class:"bg-white p-4 rounded-lg border *:mb-2.5 text-justify text-sm md:text-base"},null,8,Rs)])])])):(t(),l("div",Ts,[e[20]||(e[20]=s("div",{class:"mt-4 p-3 text-center border rounded-lg bg-red-50 text-red-600 font-medium"}," ðŸš« Course Not Found ",-1)),B(w,{to:"/courses",class:"btn-link"},{default:L(()=>e[19]||(e[19]=[v(" Go to Course List ")])),_:1})]))])}}};export{Hs as default};
