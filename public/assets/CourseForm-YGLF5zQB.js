import{_ as x,u as w,k as V,d as a,e as U,o as r,g as n,a as s,m as k,p as o,v as l,C as F,F as M,h as T,i as D,t as f,s as I,x as B,y as N}from"./index-DInHfI64.js";import{u as A}from"./category-BEhGevXo.js";const y=u=>(B("data-v-3120dbb4"),u=u(),N(),u),L={class:"my-container max-w-xl"},R={class:"card-bg p-4 md:p-8 flex flex-col items-center relative"},E=y(()=>s("h1",{class:"title-lg"},"Add New Course",-1)),P=y(()=>s("option",{disabled:"",value:""},"Select a Category",-1)),j=["value"],q=y(()=>s("button",{type:"submit",class:"btn-2"},"Add Course",-1)),z={key:0,class:"message"},G={__name:"CourseForm",setup(u){const C=w(),h=A(),g=V(),d=a(""),i=a(""),c=a(""),p=a(""),v=a(""),m=a(""),_=a(""),S=async()=>{const b={title:d.value,description:i.value,price:c.value,thumbnail:p.value,start_date:v.value,course_category:m.value};try{await C.createCourse(b),_.value="The course is successfully added",setTimeout(()=>{g.push("/courses")},2e3)}catch(t){console.error("Failed to add course:",t)}};return U(async()=>{await h.fetchCategories()}),(b,t)=>(r(),n("div",L,[s("div",R,[E,s("form",{onSubmit:k(S,["prevent"]),class:"space-y-2"},[o(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),placeholder:"Title",class:"input-1"},null,512),[[l,d.value]]),o(s("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),placeholder:"Description",class:"input-1"},null,512),[[l,i.value]]),o(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),placeholder:"Price",class:"input-1"},null,512),[[l,c.value]]),o(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>v.value=e),type:"date",placeholder:"Start Date",class:"input-1"},null,512),[[l,v.value]]),o(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),placeholder:"Thumbnail URL",class:"input-1"},null,512),[[l,p.value]]),o(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>m.value=e),class:"input-1"},[P,(r(!0),n(M,null,T(D(h).categories,e=>(r(),n("option",{key:e.id,value:e.name},f(e.name),9,j))),128))],512),[[F,m.value]]),q],32),_.value?(r(),n("p",z,f(_.value),1)):I("",!0)])]))}},K=x(G,[["__scopeId","data-v-3120dbb4"]]);export{K as default};
