import{u as _,a as k,r as i,b as x,c as b,o as h,w as A,d as w,e as r,f as o,g as l,n as f,F as d,h as v,i as q,t as S,j as B,_ as $}from"./index-DgW0pWoJ.js";const j={class:"my-container space-y-6 py-2"},E={class:"flex flex-wrap justify-center md:gap-4 gap-2"},F=["onClick"],I={key:0,class:"grid md:grid-cols-3 gap-4"},L={key:1,class:"grid md:grid-cols-3 gap-4"},N={key:2},M={__name:"AllCourse",setup(R){const g=_(),n=k(),c=i([]),a=i("All Courses"),u=x(),C=b(),p=i(!0);h(async()=>{await g.fetchCourses(),await n.fetchCategories(),c.value=g.courses.sort((s,e)=>e.id-s.id),u.query.category&&(a.value=u.query.category),p.value=!1}),A(()=>u.query.category,s=>{a.value=s||"All Courses"});const m=w(()=>{if(a.value==="All Courses")return c.value;const s=n.categories.find(e=>e.name===a.value);return c.value.filter(e=>parseInt(e.category_id)===parseInt(s==null?void 0:s.id))}),y=s=>{a.value=s,C.replace({query:{...u.query,category:s}})};return(s,e)=>(r(),o("div",j,[e[2]||(e[2]=l("div",null,[l("h2",{class:"title-xl text-center"},"Our Courses"),l("p",{class:"text-center"},"Explore our courses at a glance")],-1)),l("div",null,[l("div",E,[l("button",{onClick:e[0]||(e[0]=t=>y("All Courses")),class:f({"btn-2":a.value==="All Courses","btn-3":a.value!=="All Courses"})}," All Courses ",2),(r(!0),o(d,null,v(q(n).categories,t=>(r(),o("button",{key:t.id,onClick:z=>y(t.name),class:f({"btn-2":a.value===t.name,"btn-3":a.value!==t.name})},S(t.name),11,F))),128))])]),p.value?(r(),o("div",I,[(r(),o(d,null,v(3,t=>l("div",{class:"card-bg p-4 animate-pulse items-center",key:t},e[1]||(e[1]=[l("i",{class:"fas fa-image text-gray-300 text-[250px]"},null,-1),l("div",{class:"h-8 w-28 bg-gray-200 rounded-full mt-4"},null,-1)]))),64))])):m.value.length>0?(r(),o("div",L,[(r(!0),o(d,null,v(m.value,t=>(r(),B($,{key:t.id,course:t},null,8,["course"]))),128))])):(r(),o("p",N,"No courses available"))]))}};export{M as default};
