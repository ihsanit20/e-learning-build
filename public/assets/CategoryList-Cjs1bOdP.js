import{a as v,r as _,d as n,e as r,f as e,m as x,p as M,v as w,s as f,x as C,w as j,z as $,t as S,o as z,h as k,F as B,g as q,i as g,q as h}from"./index-BSGNne6x.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D=t=>(f("data-v-0e4d7e80"),t=t(),C(),t),L={class:"modal"},F={class:"modal-content space-y-2"},O=D(()=>e("h2",null,"Add Category",-1)),T={class:"flex gap-4"},U=D(()=>e("button",{type:"submit",class:"btn-2"},"Add",-1)),Y={__name:"AddCategoryModal",emits:["close"],setup(t,{emit:d}){const c=d,i=v(),s=_(""),o=async()=>{await i.createCategory(s.value),s.value="",c("close")};return(u,a)=>(n(),r("div",L,[e("div",F,[O,e("form",{onSubmit:x(o,["prevent"]),class:"space-y-2"},[M(e("input",{class:"input-1","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),placeholder:"Category name",required:""},null,512),[[w,s.value]]),e("div",T,[U,e("button",{type:"button",onClick:a[1]||(a[1]=l=>c("close")),class:"btn-contrast"},"Cancel")])],32)])]))}},G=b(Y,[["__scopeId","data-v-0e4d7e80"]]),A=t=>(f("data-v-8906d358"),t=t(),C(),t),H={class:"modal"},J={class:"modal-content"},K=A(()=>e("h2",null,"Edit Category",-1)),P={class:"flex gap-4"},Q=A(()=>e("button",{type:"submit",class:"btn-2"},"Save",-1)),R={__name:"EditCategoryModal",props:{category:Object},emits:["close"],setup(t,{emit:d}){const c=d,i=v(),s=t,o=_(s.category.name);j(()=>s.category,a=>{o.value=a.name});const u=async()=>{await i.updateCategory(s.category.id,{name:o.value}),c("close")};return(a,l)=>(n(),r("div",H,[e("div",J,[K,e("form",{onSubmit:x(u,["prevent"]),class:"space-y-2"},[M(e("input",{"onUpdate:modelValue":l[0]||(l[0]=p=>o.value=p),class:"input-1",placeholder:"Category name",required:""},null,512),[[w,o.value]]),e("div",P,[Q,e("button",{type:"button",onClick:l[1]||(l[1]=p=>c("close")),class:"btn-contrast"},"Cancel")])],32)])]))}},W=b(R,[["__scopeId","data-v-8906d358"]]),X=t=>(f("data-v-a36a7730"),t=t(),C(),t),Z={class:"modal"},ee={class:"modal-content space-y-2 flex justify-center flex-col items-center"},te=X(()=>e("h2",{class:"title-md"},"Delete Category",-1)),se={class:"text-red-500"},oe={class:"font-bold"},ae={class:"flex gap-4"},ne={__name:"DeleteCategoryModal",props:{category:Object},emits:["close"],setup(t,{emit:d}){const c=d,i=v(),s=t,o=async()=>{await i.deleteCategory(s.category.id),c("close")};return(u,a)=>(n(),r("div",Z,[e("div",ee,[te,e("p",se,[$('Are you sure you want to delete the category " '),e("span",oe,S(t.category.name),1),$('"?')]),e("div",ae,[e("button",{class:"btn-2",onClick:o},"Yes"),e("button",{class:"btn-contrast",onClick:a[0]||(a[0]=l=>u.$emit("close"))},"No")])])]))}},ce=b(ne,[["__scopeId","data-v-a36a7730"]]),le={class:"my-container space-y-2"},de=e("h1",{class:"title-lg"},"Categories",-1),ie={key:0,class:"flex justify-center items-center"},re=e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1),ue=[re],_e={key:1},pe={class:"card-bg p-4 divide-y-2"},ye={class:"flex-1 title-md"},me={class:"flex gap-2"},ve=["onClick"],ge=["onClick"],he={key:1,class:"text-red-500"},$e={__name:"CategoryList",setup(t){const d=v(),c=_(!1),i=_(!1),s=_(!1),o=_(null),u=_(!0),a=()=>c.value=!0,l=()=>c.value=!1,p=y=>{o.value=y,i.value=!0},E=()=>i.value=!1,I=y=>{o.value=y,s.value=!0},N=()=>s.value=!1;return z(async()=>{try{await d.fetchCategories()}finally{u.value=!1}}),(y,fe)=>(n(),r("div",le,[de,u.value?(n(),r("div",ie,ue)):(n(),r("div",_e,[e("ul",pe,[k(d).categories.length?(n(!0),r(B,{key:0},q(k(d).categories,m=>(n(),r("li",{key:m.id,class:"flex items-center py-2"},[e("p",ye,S(m.name),1),e("div",me,[e("button",{onClick:V=>p(m),class:"btn-1"},"Edit",8,ve),e("button",{onClick:V=>I(m),class:"btn-contrast"},"Delete",8,ge)])]))),128)):(n(),r("p",he,"No categories found"))]),e("button",{class:"btn-2",onClick:a},"Add Category")])),c.value?(n(),g(G,{key:2,class:"z-40",onClose:l})):h("",!0),i.value?(n(),g(W,{key:3,class:"z-40",category:o.value,onClose:E},null,8,["category"])):h("",!0),s.value?(n(),g(ce,{key:4,class:"z-40",category:o.value,onClose:N},null,8,["category"])):h("",!0)]))}};export{$e as default};
