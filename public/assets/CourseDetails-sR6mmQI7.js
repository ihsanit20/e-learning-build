import{b as j,k as L,l as D,u as N,r as u,o as F,d as t,e as a,t as l,f as s,z as m,F as x,g as b,C as V,n as r,q as k,m as B,j as E}from"./index-C9dQhS5a.js";const R={class:"my-container py-4"},z={key:0,class:"error"},I={key:1},T=E('<div class="grid md:grid-cols-3 gap-4"><div class="md:order-last md:col-span-1"><div class="card-bg p-4 animate-pulse"><div class="rounded overflow-hidden h-52 bg-gray-200"></div><div class="flex justify-between mt-4"><div class="h-6 w-20 bg-gray-200 rounded-full"></div><div class="h-6 w-20 bg-gray-200 rounded-full"></div></div><div class="h-10 mt-4 bg-gray-200 rounded-full"></div></div></div><div class="md:col-span-2 space-y-4"><div class="h-10 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="space-y-2"><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div></div></div></div>',1),$=[T],q={key:2,class:"grid md:grid-cols-3 gap-4"},A={class:"md:order-last md:col-span-1"},K={class:"card-bg p-4"},O={class:"rounded overflow-hidden"},G=["src"],H={class:"flex justify-between"},J={class:"font-bold text-sky-600"},P={class:"font-bold text-sky-600"},Q={class:"md:col-span-2 space-y-4"},U={class:"title-xl"},W=s("hr",{class:"my-2"},null,-1),X={class:""},Y=s("h2",{class:"title-lg"},"Modules",-1),Z={class:"space-y-4"},ss=["onClick"],es={class:"text-center border-2 rounded-md p-1.5"},ts=s("div",{class:"text-xs md:text-sm"},"Module",-1),as={class:"flex-1"},ls={class:""},os={class:"flex items-center gap-2 text-gray-500"},is=s("i",{class:"fas fa-video text-xs"},null,-1),ds={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-orange-100 px-10 text-sm text-orange-500 font-medium"},ns={key:0},cs={class:"space-y-2"},rs=["onClick"],us={class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},_s={class:"text-xs"},vs={key:0},hs={key:1},ps={class:"title-sm"},gs={class:"flex items-center gap-2 text-sm text-gray-400"},fs=s("i",{class:"far fa-calendar-check"},null,-1),ys={key:3},ks={__name:"CourseDetails",setup(ms){const w=j(),_=L(),h=D(),p=N(),g=w.params.id,c=u([]),i=u(null),v=u(null),f=u(!0);F(async()=>{try{await p.fetchCourse(g),i.value=p.course}catch(o){v.value=o}finally{f.value=!1}});const y=o=>{const d=new Date(o);return V(d,"dd-MMM-yyyy")},C=o=>{const d=c.value.indexOf(o);d===-1?c.value.push(o):c.value.splice(d,1)},M=(o,d)=>{d||(!h.token&&!localStorage.getItem("auth_token")?_.push({name:"login"}):window.open(o.link,"_blank"))},S=()=>{!h.token&&!localStorage.getItem("auth_token")?_.push({name:"join"}):_.push({name:"Checkout",params:{id:g}})};return(o,d)=>(t(),a("div",R,[v.value?(t(),a("div",z,l(v.value),1)):f.value?(t(),a("div",I,$)):i.value?(t(),a("div",q,[s("div",A,[s("div",K,[s("div",O,[s("img",{class:"w-full aspect-video object-cover",src:i.value.thumbnail,alt:""},null,8,G)]),s("div",H,[s("p",null,[m(" Fee: "),s("span",J,l(i.value.price)+" TK",1)]),s("p",null,[m(" Start Date: "),s("span",P,l(y(i.value.start_date)),1)])]),s("button",{class:"btn-2",onClick:S},"Enroll Now")])]),s("div",Q,[s("div",null,[s("h1",U,l(i.value.title),1),W]),s("div",X,[s("p",null,l(i.value.description),1)]),Y,s("ul",Z,[(t(!0),a(x,null,b(i.value.modules,e=>(t(),a("li",{class:"card-bg p-4 relative",key:e.id},[s("div",{onClick:n=>C(e.id),class:"flex flex-1 items-center gap-4 cursor-pointer"},[s("div",es,[s("div",{class:r(["text-xl font-bold text-orange-500",{"!text-gray-400":e.is_active==0}])},l(e.order),3),ts]),s("div",as,[s("h4",{class:r(["title-md",{"text-gray-400":e.is_active==0}])},l(e.title),3),s("div",ls,[s("div",os,[is,s("p",null,l(e.lectures.length)+" Lectures",1)])])]),s("button",null,[s("i",{class:r(c.value.includes(e.id)?"fas fa-angle-up":"fas fa-angle-down")},null,2)]),e.is_paid==0?(t(),a("div",ds," Free ")):k("",!0)],8,ss),c.value.includes(e.id)?(t(),a("div",ns,[s("ul",cs,[(t(!0),a(x,null,b(e.lectures,n=>(t(),a("li",{key:n.id},[s("a",{onClick:B(xs=>M(n,e.is_paid),["prevent"]),class:r(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":e.is_paid==1}])},[s("div",us,[s("i",{class:r(n.type==="virtual_platform"?"fas fa-video":"fas fa-play-circle")},null,2),s("div",_s,[n.type==="virtual_platform"?(t(),a("p",vs,"Live")):(t(),a("p",hs,"Rec"))])]),s("div",null,[s("h4",ps,l(n.title),1),s("div",gs,[fs,s("p",null,l(y(n.opening_time)),1)])])],10,rs)]))),128))])])):k("",!0)]))),128))])])])):(t(),a("div",ys,"Loading..."))]))}};export{ks as default};
