import{q as g,k as w,u as C,d,e as T,f as P,o as n,g as c,t as a,a as e,b as p,p as v,G as m,i as y,s as S}from"./index-Djx28oNT.js";import{u as D}from"./purchase-DeCOGVnV.js";const B="/assets/bkash_payment_logo-CHh0TPdw.png",V={class:"my-container py-4"},j={key:0,class:"error"},K={key:1,class:"space-y-4"},N=e("h1",{class:"title-xl text-center"},"Checkout Page",-1),R={class:"grid md:grid-cols-2 gap-4"},L={class:"card-bg p-4 flex gap-4"},M={class:""},U=["src"],F={class:"space-y-2"},q={class:"title-xl"},A={class:"flex gap-4 justify-between"},E={class:"font-bold text-sky-600"},G={class:"font-bold text-sky-600"},H={class:"card-bg p-4 space-y-2"},I=e("h4",{class:"title-lg text-center"},"Payment Details",-1),O={class:"space-y-1"},z={class:"flex justify-between"},J=e("p",null,"Course Fee",-1),Q=e("div",{class:"flex justify-between"},[e("p",null,"Promo Discount"),e("p",null,"- 00 TK")],-1),W=e("hr",null,null,-1),X={class:"flex justify-between font-bold"},Y=e("p",null,"Total",-1),Z=e("p",{class:"title-lg text-center"},"Select payment method",-1),$={class:"mt-2"},ee={class:"flex items-center space-x-4"},te=e("span",null,[e("img",{class:"w-52",src:B,alt:""})],-1),se={class:"flex items-center space-x-4 mt-2"},ae=e("span",null,"Bank Transfer",-1),oe={key:0,class:"mt-2 text-red-600 font-bold text-center text-xl"},le={key:2},re={__name:"CheckOut",setup(ne){const f=g(),b=w(),_=C(),i=D(),h=f.params.id,t=d(null),r=d(null),o=d("bkash_payment");T(async()=>{try{await _.fetchCourse(h),t.value=_.course}catch(l){r.value=l}});const k=P(()=>t.value?t.value.price:0),x=async()=>{o.value==="bkash_payment"?await i.createPayment(h).then(l=>{var s;window.location=(s=l==null?void 0:l.data)==null?void 0:s.bkashURL}):o.value==="bank_transfer"&&(alert("Bank Transfer selected. Checkout completed successfully!"),b.push("/my/course"))};return(l,s)=>(n(),c("div",V,[r.value?(n(),c("div",j,a(r.value),1)):t.value?(n(),c("div",K,[N,e("div",R,[e("div",L,[e("div",M,[e("img",{src:t.value.thumbnail,alt:""},null,8,U)]),e("div",F,[e("h1",q,a(t.value.title),1),e("div",A,[e("p",null,[p(" Course Fee: "),e("span",E,a(t.value.price)+" TK",1)]),e("p",null,[p(" Start Date: "),e("span",G,a(new Date(t.value.start_date).toLocaleDateString()),1)])])])]),e("div",H,[I,e("div",O,[e("div",z,[J,e("p",null,a(t.value.price)+" TK",1)]),Q,W,e("div",X,[Y,e("p",null,a(k.value)+" TK",1)])]),Z,e("div",$,[e("label",ee,[v(e("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),value:"bkash_payment"},null,512),[[m,o.value]]),te]),e("label",se,[v(e("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=u=>o.value=u),value:"bank_transfer"},null,512),[[m,o.value]]),ae])]),e("button",{class:"btn-2 mt-4",onClick:x},"Pay Now"),y(i).error?(n(),c("div",oe,a(y(i).error),1)):S("",!0)])])])):(n(),c("div",le,"Loading..."))]))}};export{re as default};
