import{_ as S,u as O,f as N,o as f,g as b,a as e,t as h,b as g,s as D,d as r,B as L,e as j,p as w,v as k,C as z,F as T,h as U,i as P,x as B,y as E,r as F,z as M,w as V}from"./index-DsjxbswV.js";import{u as R}from"./category-DXNk98hH.js";const A={key:0,class:"modal"},Y={class:"card-bg p-4 md:p-8 max-w-3xl"},q={class:"mx-auto rounded-lg overflow-hidden"},G=["src"],H={class:"title-md"},J={class:""},K={class:""},Q={class:""},W={class:"title-sm"},X={__name:"CourseViewModal",props:{course:Object,isOpen:Boolean},emits:["close"],setup(o,{emit:i}){const c=o,l=i,_=O(),a=N(()=>_.courses.find(p=>p.id===c.course.id)),u=()=>{l("close")};return(p,m)=>o.isOpen?(f(),b("div",A,[e("div",Y,[e("div",q,[e("img",{src:a.value.thumbnail,alt:"Thumbnail"},null,8,G)]),e("h2",H,h(a.value.title),1),e("p",J,h(a.value.description),1),e("p",K,[g("Starting From: "),e("span",null,h(a.value.start_date),1)]),e("p",Q,[g("Price: ৳ "),e("span",W,h(a.value.price),1)]),e("div",null,[e("button",{class:"btn-contrast",onClick:u},"Close")])])])):D("",!0)}},Z=S(X,[["__scopeId","data-v-5c026c4c"]]),C=o=>(B("data-v-b07ffa25"),o=o(),E(),o),ee={key:0,class:"modal"},se={class:"card-bg p-4 md:p-8 w-full max-w-5xl"},te=C(()=>e("h2",{class:"title-md text-center"},"Edit Course",-1)),oe=C(()=>e("p",null,"Course Title",-1)),le=C(()=>e("p",null,"Course Description",-1)),ae=C(()=>e("p",null,"Course Price",-1)),ne=C(()=>e("p",null,"Start Date",-1)),ce=C(()=>e("p",null,"Course Thumbnail",-1)),ie=C(()=>e("p",null,"Course Category",-1)),ue=C(()=>e("option",{disabled:"",value:""},"Select a Category",-1)),de=["value"],re={__name:"CourseEditModal",props:{course:Object,isOpen:Boolean},emits:["close","update"],setup(o,{emit:i}){const c=o,l=i,_=O(),a=R(),u=r(""),p=r(""),m=r(""),x=r(""),$=r(""),y=r("");L(()=>c.course,n=>{n&&(u.value=n.title||"",p.value=n.description||"",m.value=n.price||"",x.value=n.thumbnail||"",$.value=n.start_date||"",y.value=n.course_category||"")},{immediate:!0});const d=async()=>{const n={id:c.course.id,title:u.value,description:p.value,price:m.value,thumbnail:x.value,start_date:$.value,course_category:y.value};await _.updateCourse(c.course.id,n),l("update",n),l("close")},v=()=>{l("close")};return j(async()=>{await a.fetchCategories()}),(n,s)=>o.isOpen?(f(),b("div",ee,[e("div",se,[te,oe,w(e("input",{class:"input-1","onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),placeholder:"Title"},null,512),[[k,u.value]]),le,w(e("textarea",{class:"input-1","onUpdate:modelValue":s[1]||(s[1]=t=>p.value=t),placeholder:"Description"},null,512),[[k,p.value]]),ae,w(e("input",{class:"input-1","onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),placeholder:"Price"},null,512),[[k,m.value]]),ne,w(e("input",{class:"input-1",type:"date","onUpdate:modelValue":s[3]||(s[3]=t=>$.value=t),placeholder:"Start Date"},null,512),[[k,$.value]]),ce,w(e("input",{class:"input-1","onUpdate:modelValue":s[4]||(s[4]=t=>x.value=t),placeholder:"Thumbnail URL"},null,512),[[k,x.value]]),ie,w(e("select",{"onUpdate:modelValue":s[5]||(s[5]=t=>y.value=t),class:"input-1"},[ue,(f(!0),b(T,null,U(P(a).categories,t=>(f(),b("option",{key:t.id,value:t.name},h(t.name),9,de))),128))],512),[[z,y.value]]),e("div",{class:"flex justify-center gap-4"},[e("button",{class:"btn-2",onClick:d},"Save"),e("button",{class:"btn-contrast",onClick:v},"Close")])])])):D("",!0)}},pe=S(re,[["__scopeId","data-v-b07ffa25"]]),I=o=>(B("data-v-47d6054d"),o=o(),E(),o),_e={key:0,class:"modal"},me=I(()=>e("h2",{class:"title-md text-red-600 text-center"},"Confirm Delete",-1)),ve=I(()=>e("p",{class:"text-center"},"Are you sure you want to delete this course?",-1)),he={__name:"CourseDeleteModal",props:{isOpen:Boolean,course:Object},emits:["close","confirmDelete"],setup(o,{emit:i}){const c=o,l=i,_=O(),a=async()=>{c.course&&(await _.deleteCourse(c.course.id),l("confirmDelete"),l("close"))},u=()=>{l("close")};return(p,m)=>o.isOpen?(f(),b("div",_e,[e("div",{class:"modal-content card-bg p-4 md:p-8"},[me,ve,e("div",{class:"flex space-x-4 justify-center"},[e("button",{class:"btn-contrast",onClick:a},"Yes"),e("button",{class:"btn-2",onClick:u},"No")])])])):D("",!0)}},fe=S(he,[["__scopeId","data-v-47d6054d"]]),be={class:"my-container space-y-2 relative"},Ce={class:"flex justify-between items-center"},xe=e("h1",{class:"title-lg text-center"},"Courses",-1),$e={class:"space-y-2"},ye=["src"],we={class:"md:col-span-3 md:px-2"},ge={class:"title-md"},ke={class:"line-clamp-1"},Me={class:"md:col-span-1 flex items-center justify-center px-2"},Oe={class:"title-sm"},Se={class:"md:col-span-3 flex justify-between items-center gap-2 md:px-2"},De=["onClick"],Ve=e("i",{class:"fas fa-eye"},null,-1),je=["onClick"],Te=e("i",{class:"far fa-edit"},null,-1),Ue=["onClick"],Be=e("i",{class:"fas fa-trash-alt"},null,-1),Ee=[Be],Ie=e("i",{class:"fas fa-plus"},null,-1),ze={__name:"CourseList",setup(o){const i=O(),c=r([]),l=r(null),_=r(!1),a=r(!1),u=r(!1);j(async()=>{await i.fetchCourses(),c.value=i.courses});const p=d=>{l.value=d,_.value=!0},m=d=>{l.value=d,a.value=!0},x=d=>{l.value=d,u.value=!0},$=async d=>{await i.updateCourse(d.id,d),c.value=i.courses},y=async()=>{await i.deleteCourse(l.value.id),c.value=i.courses};return(d,v)=>{const n=F("RouterLink");return f(),b("div",be,[e("div",Ce,[xe,M(n,{class:"btn-2",to:"/new"},{default:V(()=>[g("Add New")]),_:1})]),e("ul",$e,[(f(!0),b(T,null,U(c.value,s=>(f(),b("li",{class:"card-bg md:py-2 p-4 md:p-2 grid md:grid-cols-8 md:divide-x-2",key:s.id},[e("img",{class:"md:col-span-1 rounded md:px-2",src:s.thumbnail,alt:"Thumbnail"},null,8,ye),e("div",we,[e("h2",ge,h(s.title),1),e("p",ke,h(s.description),1)]),e("div",Me,[e("p",Oe,"Price: ৳"+h(s.price),1)]),e("div",Se,[e("button",{class:"btn-1 pb-2",onClick:t=>p(s)},[Ve,g("View")],8,De),e("button",{class:"btn-1 pb-2",onClick:t=>m(s)},[Te,g("Edit")],8,je),e("button",{class:"btn-contrast pb-2",onClick:t=>x(s)},Ee,8,Ue),M(n,{class:"btn-1",to:"/courses/"+s.id+"/modules"},{default:V(()=>[Ie,g("Module ")]),_:2},1032,["to"])])]))),128))]),M(Z,{class:"absolute top-0 shadow-2xl w-full z-40",course:l.value,isOpen:_.value,onClose:v[0]||(v[0]=s=>_.value=!1)},null,8,["course","isOpen"]),M(pe,{class:"absolute top-0 shadow-2xl w-full z-40",course:l.value,isOpen:a.value,onClose:v[1]||(v[1]=s=>a.value=!1),onUpdate:$},null,8,["course","isOpen"]),M(fe,{class:"absolute top-0 shadow-2xl w-full z-40",course:l.value,isOpen:u.value,onClose:v[2]||(v[2]=s=>u.value=!1),onConfirmDelete:y},null,8,["course","isOpen"])])}}};export{ze as default};
