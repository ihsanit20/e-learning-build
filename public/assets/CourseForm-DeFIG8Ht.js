import{r as l,I as M,x as u,z as s,A as f,M as T,U as a,D as w,af as _,F as k,G as D,B as F,W as g,ac as V,a9 as c,C as S,T as L,y as r}from"./vue-BP9P6hCg.js";import{u as N,a as B}from"./index-lD89qjop.js";import{_ as R}from"./TextEditor-DdzDIBRv.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-PJuFQbji.js";const I={class:"my-container"},z={class:"card-bg p-4 md:p-8"},E=["value"],G={class:"flex items-center gap-2"},P={key:0},W={key:0,class:"message"},$={__name:"CourseForm",setup(j){const b=N(),y=B(),U=L(),n=l(""),d=l(""),i=l(""),p=l(""),v=l(""),o=l(""),m=l(""),x=async()=>{const C={title:n.value,description:d.value,price:i.value,start_date:o.value==="Live Course"?p.value:null,category_id:v.value,course_type:o.value};try{await b.createCourse(C),m.value="The course is successfully added",setTimeout(()=>{U.push("/management/course-list")},2e3)}catch(e){console.error("Failed to add course:",e)}};return M(async()=>{await y.fetchCategories()}),(C,e)=>(r(),u("div",I,[s("div",z,[e[13]||(e[13]=s("h1",{class:"title-lg"},"Add New Course",-1)),s("form",{onSubmit:T(x,["prevent"]),class:"space-y-2"},[a(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>v.value=t),class:"input-1"},[e[7]||(e[7]=s("option",{disabled:"",value:""},"Select a Category",-1)),(r(!0),u(k,null,D(F(y).categories,t=>(r(),u("option",{key:t.id,value:t.id},S(t.name),9,E))),128))],512),[[_,v.value]]),s("div",null,[e[10]||(e[10]=s("p",null,"Course Type",-1)),s("div",G,[s("label",null,[a(s("input",{type:"radio",value:"Live Course","onUpdate:modelValue":e[1]||(e[1]=t=>o.value=t)},null,512),[[V,o.value]]),e[8]||(e[8]=g(" Live Course "))]),s("label",null,[a(s("input",{type:"radio",value:"Recorded Course","onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t)},null,512),[[V,o.value]]),e[9]||(e[9]=g(" Recorded Course "))])])]),a(s("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.value=t),placeholder:"Title",class:"input-1"},null,512),[[c,n.value]]),a(s("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.value=t),placeholder:"Price",class:"input-1"},null,512),[[c,i.value]]),o.value==="Live Course"?(r(),u("div",P,[e[11]||(e[11]=s("p",null,"Start Date",-1)),a(s("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>p.value=t),type:"date",placeholder:"Start Date",class:"input-1"},null,512),[[c,p.value]])])):f("",!0),w(R,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value=t)},null,8,["modelValue"]),e[12]||(e[12]=s("button",{type:"submit",class:"btn-2"},"Add Course",-1))],32),m.value?(r(),u("p",W,S(m.value),1)):f("",!0)])]))}},Q=A($,[["__scopeId","data-v-13c9b050"]]);export{Q as default};
