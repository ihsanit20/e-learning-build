import{F as m}from"./index-CCZtyDAV.js";import{r as u,I as g,x as s,z as e,A as a,C as h,B as n,F as b,G as x,y as l}from"./vue-CAqJJQzZ.js";import"./vendor-PJuFQbji.js";const k={class:"my-container p-4"},P={class:"mb-4"},w={class:"flex w-full text-center gap-4"},C={key:0,class:"text-green-500 mt-2"},F={key:1,class:"text-red-500 mt-2"},B={key:0,class:"text-center"},D={key:1,class:"text-center text-red-500"},G={class:"grid md:grid-cols-3 gap-4"},I={class:""},M=["src"],N={class:"border-gray-200"},S=["onClick"],A={key:2},z={__name:"PhotoGallery",setup(E){const o=m(),c=u(null),d=u(""),i=u(""),v=u(null),_=r=>{c.value=r.target.files[0]},y=async()=>{if(!c.value)return;const r=new FormData;r.append("photo",c.value);try{await o.uploadPhoto(r),d.value="Photo upload successful",i.value="",v.value.value=""}catch{d.value="",i.value="Failed to upload photo"}finally{c.value=null}},f=async r=>{if(confirm("Are you sure you want to delete this photo?"))try{await o.deletePhoto(r)}catch(t){console.error("Error deleting photo:",t)}};return g(async()=>{await o.fetchPhotos()}),(r,t)=>(l(),s("div",k,[t[3]||(t[3]=e("h1",{class:"text-2xl font-bold mb-4"},"Photo Gallery",-1)),e("div",P,[e("div",w,[e("input",{ref_key:"fileInput",ref:v,type:"file",onChange:_,class:"input-1"},null,544),e("button",{class:"btn-2",onClick:y},"Upload")]),d.value?(l(),s("p",C,h(d.value),1)):a("",!0),i.value?(l(),s("p",F,h(i.value),1)):a("",!0)]),n(o).loading?(l(),s("div",B,t[0]||(t[0]=[e("p",null,"Loading photos...",-1)]))):a("",!0),n(o).error?(l(),s("div",D,[e("p",null,h(n(o).error),1)])):a("",!0),e("div",G,[(l(!0),s(b,null,x(n(o).photos,p=>(l(),s("div",{key:p.id,class:"card-bg p-4"},[e("div",I,[e("img",{src:p.photo,alt:"Photo",class:"aspect-video object-cover rounded-md"},null,8,M)]),t[1]||(t[1]=e("hr",null,null,-1)),e("div",N,[e("button",{onClick:L=>f(p.id),class:"btn-contrast"},"Delete",8,S)])]))),128))]),n(o).photos.length===0?(l(),s("div",A,t[2]||(t[2]=[e("div",{class:"py-2 px-4 border-b border-gray-200"},"No photos found",-1)]))):a("",!0)]))}};export{z as default};
