import{Q as w,P as L,r as d,I as P,x as a,z as s,A as c,C as v,F as _,G as k,D as m,L as r,Y as R,y as e,W as p,O as B}from"./vue-BP9P6hCg.js";import{u as N}from"./purchase-CuxuUCi7.js";import"./index-DBv0zzlw.js";import"./vendor-PJuFQbji.js";const M={class:"my-container"},S={class:"md:col-span-full space-y-2"},V={key:0,class:"error"},j={key:1},D={class:"grid md:grid-cols-3 gap-4 animate-pulse"},G={key:2},A={class:"flex justify-center mt-4"},E={key:3,class:"grid md:grid-cols-3 gap-4"},F=["src"],Y={class:"title-lg mt-2"},q={class:"flex gap-2 items-center"},z=["href"],I={key:4,class:"flex justify-center pt-4"},H={__name:"MyCourse",props:{limit:{type:Number,default:0},loadRelations:{type:Boolean,default:!1}},setup(b){const n=b,h=L(),x=w(()=>h.path),f=N(),i=d([]),u=d(null),g=d(!0);return P(async()=>{try{await f.fetchPurchases({limit:n.limit?n.limit:null,with:n.loadRelations}),i.value=f.purchases}catch(y){u.value=y}finally{g.value=!1}}),(y,t)=>{const l=R("RouterLink");return e(),a("div",M,[s("div",S,[t[8]||(t[8]=s("h1",{class:"title-xl text-center"},"My Courses",-1)),u.value?(e(),a("div",V,v(u.value),1)):g.value?(e(),a("div",j,[s("div",D,[(e(),a(_,null,k(3,o=>s("div",{key:o,class:"card-bg p-4"},t[1]||(t[1]=[s("div",{class:"w-full h-48 bg-gray-200"},null,-1),s("div",{class:"h-6 bg-gray-200 mt-2 rounded"},null,-1),s("div",{class:"h-10 bg-gray-200 mt-2 rounded"},null,-1)]))),64))])])):i.value.length===0?(e(),a("div",G,[t[3]||(t[3]=s("p",{class:"text-center"},"You have no courses yet.",-1)),s("div",A,[m(l,{to:"/courses",class:"btn-2"},{default:r(()=>t[2]||(t[2]=[p("Go to Course Page")])),_:1})])])):(e(),a("div",E,[(e(!0),a(_,null,k(i.value,o=>(e(),B(l,{to:{name:"My Course Details",params:{id:o.id}},key:o.id,class:"card-bg p-4"},{default:r(()=>[s("img",{src:o.thumbnail,alt:"",class:"w-full object-cover aspect-video"},null,8,F),s("h2",Y,v(o.title),1),s("div",q,[t[5]||(t[5]=s("button",{class:"btn-contrast grow"},"Start Learning",-1)),o.facebook_group_link?(e(),a("a",{key:0,href:o.facebook_group_link,target:"_blank",class:"btn-2 px-4 hover:text-white",onClick:t[0]||(t[0]=C=>C.stopPropagation())},t[4]||(t[4]=[s("i",{class:"fab fa-facebook text-lg"},null,-1),s("span",{class:"-mb-1 scale-110 ml-0.5"},"Group",-1)]),8,z)):c("",!0)]),m(l,{to:{name:"Checkout",params:{id:o.id},query:{for:"someone"}},class:"btn-link mt-2 mx-auto"},{default:r(()=>t[6]||(t[6]=[p(" Purchase for someone else ")])),_:2},1032,["to"])]),_:2},1032,["to"]))),128))])),x.value!=="/my/course"?(e(),a("div",I,[m(l,{class:"btn-3",to:"/my/course"},{default:r(()=>t[7]||(t[7]=[p("Explore All")])),_:1})])):c("",!0)]),c("",!0)])}}};export{H as default};
