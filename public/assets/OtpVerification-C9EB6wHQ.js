import{r as a,k as y,c as x,b,o as O,e as r,f as u,g as e,x as T,q as v,t as c,z as g,A as w,p as m}from"./index-D3cvxqGp.js";const P={class:"max-w-md mx-auto my-10 px-2"},V={class:"bg-white p-6 rounded-lg shadow-md"},k=e("h2",{class:"title-lg text-center"},"Verify OTP",-1),q={class:"font-medium text-gray-900 text-center"},S={class:"font-bold"},A={key:0,class:"mt-4 text-sm text-red-500 text-center"},B={key:1,class:"mt-4 text-sm text-green-500 text-center"},M=e("div",{class:"flex justify-center"},[e("button",{type:"submit",class:"btn-2"},"Verify OTP")],-1),D={__name:"OtpVerification",setup(N){const t=a(""),n=a(""),s=a(""),o=a(""),i=y(),h=x(),l=b(),_=async()=>{try{await i.verifyOtp(t.value,n.value)&&(o.value="OTP verification completed.",s.value="",setTimeout(()=>{h.push({name:"ResetPassword",query:{phone:t.value}})},2e3))}catch{s.value=i.error||"Invalid OTP. Please try again.",o.value=""}};return O(()=>{l.query.phone&&(t.value=l.query.phone)}),(d,p)=>(r(),u("div",P,[e("div",V,[k,e("form",{onSubmit:T(_,["prevent"]),class:"space-y-4"},[e("div",q,[v(" An OTP has been sent to ("),e("span",S,c(t.value),1),v(") this number. ")]),e("div",null,[g(e("input",{"onUpdate:modelValue":p[0]||(p[0]=f=>n.value=f),type:"text",id:"otp",name:"otp",class:"input-1 w-full",placeholder:"Enter the OTP sent to your phone",required:""},null,512),[[w,n.value]])]),s.value?(r(),u("div",A,c(s.value),1)):m("",!0),o.value?(r(),u("div",B,c(o.value),1)):m("",!0),M],32)])]))}};export{D as default};
