import{r,k as _,c as x,e as u,f as i,g as e,x as b,z as p,A as m,t as v,p as h}from"./index-amixhH3R.js";const g={class:"max-w-md mx-auto my-10 px-2"},w={class:"bg-white p-6 rounded-lg shadow-md"},O=e("h2",{class:"title-lg text-center"},"Verify OTP",-1),P=e("label",{for:"phone",class:"block font-medium text-gray-700"},"Phone Number",-1),T=e("label",{for:"otp",class:"block font-medium text-gray-700"},"OTP",-1),k={key:0,class:"mt-4 text-sm text-red-500 text-center"},V={key:1,class:"mt-4 text-sm text-green-500 text-center"},S=e("div",{class:"flex justify-center"},[e("button",{type:"submit",class:"btn-2"},"Verify OTP")],-1),E={__name:"OtpVerification",setup(q){const t=r(""),n=r(""),s=r(""),o=r(""),c=_(),f=x(),y=async()=>{try{await c.verifyOtp(t.value,n.value)&&(o.value="OTP verified. Redirecting to reset password page...",s.value="",setTimeout(()=>{f.push({name:"ResetPassword",query:{phone:t.value}})},2e3))}catch{s.value=c.error||"Invalid OTP. Please try again.",o.value=""}};return(d,a)=>(u(),i("div",g,[e("div",w,[O,e("form",{onSubmit:b(y,["prevent"]),class:"space-y-4"},[e("div",null,[P,p(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>t.value=l),type:"text",id:"phone",name:"phone",class:"input-1 w-full",placeholder:"Enter your phone number",required:""},null,512),[[m,t.value]])]),e("div",null,[T,p(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>n.value=l),type:"text",id:"otp",name:"otp",class:"input-1 w-full",placeholder:"Enter the OTP sent to your phone",required:""},null,512),[[m,n.value]])]),s.value?(u(),i("div",k,v(s.value),1)):h("",!0),o.value?(u(),i("div",V,v(o.value),1)):h("",!0),S],32)])]))}};export{E as default};
