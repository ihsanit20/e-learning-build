import{u as $}from"./user-CBtCyYG4.js";import{_ as C,e as c,g as S,o as u,j as _,a as e,v as b,x as w,I as E,t as g,y as f,z as I,A as L,i as M,F as N,k as P,c as V}from"./index-BagFNDAU.js";const l=i=>(I("data-v-00f1efd7"),i=i(),L(),i),O={key:0,class:"modal"},j={class:"card-bg p-4 md:p-8 w-full max-w-5xl"},B=l(()=>e("h2",{class:"title-md text-center"},"Edit User",-1)),A=l(()=>e("p",null,"Name",-1)),R=l(()=>e("p",null,"Email",-1)),D=l(()=>e("p",null,"Phone",-1)),F=l(()=>e("p",null,"Photo URL",-1)),z=l(()=>e("p",null,"Role",-1)),T=l(()=>e("option",{value:"developer"},"Developer",-1)),q=l(()=>e("option",{value:"admin"},"Admin",-1)),G=l(()=>e("option",{value:"instructor"},"Instructor",-1)),H=l(()=>e("option",{value:"student"},"Student",-1)),J=[T,q,G,H],K={key:0,class:"mt-4 text-red-600"},Q={__name:"EditUser",props:{user:Object,isOpen:Boolean},emits:["close","update"],setup(i,{emit:k}){const s=i,d=k,h=$(),n=c(""),v=c(""),m=c(""),x=c(""),t=c("student"),p=c(null);S(()=>{s.user&&(n.value=s.user.name,v.value=s.user.email,m.value=s.user.phone,x.value=s.user.photo,t.value=s.user.role)});const o=async()=>{try{const y={name:n.value,email:v.value,phone:m.value,photo:x.value,role:t.value};await h.updateUser(s.user.id,y),d("update",y),d("close")}catch(y){p.value=y.message}},U=()=>{d("close")};return(y,a)=>i.isOpen?(u(),_("div",O,[e("div",j,[B,A,b(e("input",{class:"input-1","onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r),placeholder:"Name"},null,512),[[w,n.value]]),R,b(e("input",{class:"input-1","onUpdate:modelValue":a[1]||(a[1]=r=>v.value=r),placeholder:"Email"},null,512),[[w,v.value]]),D,b(e("input",{class:"input-1","onUpdate:modelValue":a[2]||(a[2]=r=>m.value=r),placeholder:"Phone"},null,512),[[w,m.value]]),F,b(e("input",{class:"input-1","onUpdate:modelValue":a[3]||(a[3]=r=>x.value=r),placeholder:"Photo URL"},null,512),[[w,x.value]]),z,b(e("select",{class:"input-1","onUpdate:modelValue":a[4]||(a[4]=r=>t.value=r)},J,512),[[E,t.value]]),e("div",{class:"flex justify-center gap-4 mt-4"},[e("button",{class:"btn-2",onClick:o},"Save"),e("button",{class:"btn-contrast",onClick:U},"Close")]),p.value?(u(),_("div",K,g(p.value),1)):f("",!0)])])):f("",!0)}},W=C(Q,[["__scopeId","data-v-00f1efd7"]]),X={class:"my-container p-4"},Y=e("div",{class:"flex items-center justify-between"},[e("h1",{class:"text-2xl font-bold mb-4"},"User List")],-1),Z={class:"overflow-x-auto"},ee={class:"min-w-full bg-white shadow-md rounded-lg overflow-hidden"},te=e("thead",{class:"font-bold"},[e("tr",null,[e("th",{class:"py-2 px-4 bg-gray-200 text-left text-sm text-gray-700 uppercase tracking-wider"}," SL "),e("th",{class:"py-2 px-4 bg-gray-200 text-left text-sm text-gray-700 uppercase tracking-wider"}," Photo "),e("th",{class:"py-2 px-4 bg-gray-200 text-left text-sm text-gray-700 uppercase tracking-wider"}," Name "),e("th",{class:"py-2 px-4 bg-gray-200 text-left text-sm text-gray-700 uppercase tracking-wider"}," Phone "),e("th",{class:"py-2 px-4 bg-gray-200 text-left text-sm text-gray-700 uppercase tracking-wider"}," Role "),e("th",{class:"py-2 px-4 bg-gray-200 text-left text-sm text-gray-700 uppercase tracking-wider"}," Actions ")])],-1),se={class:"py-2 px-4 border-b border-gray-200"},oe={class:"py-2 px-4 border-b border-gray-200"},ae=["src"],le={class:"py-2 px-4 border-b border-gray-200"},ne={class:"py-2 px-4 border-b border-gray-200"},re={class:"py-2 px-4 border-b border-gray-200"},ce={class:"py-2 px-4 border-b border-gray-200"},de=["onClick"],ue={key:0},ie=e("td",{class:"py-2 px-4 border-b border-gray-200",colspan:"6"},"No users found",-1),pe=[ie],_e={key:0,class:"mt-4 text-red-600"},me={__name:"UserList",setup(i){const k=$(),s=c(null),d=c(!1),h=c(null);S(async()=>{try{await k.fetchUsers()}catch(t){s.value=t.message}});const n=M(()=>k.users),v=t=>{h.value=t,d.value=!0},m=()=>{d.value=!1,h.value=null},x=t=>{const p=n.value.findIndex(o=>o.id===t.id);p!==-1&&(n.value[p]=t)};return(t,p)=>(u(),_("div",X,[Y,e("div",Z,[e("table",ee,[te,e("tbody",null,[(u(!0),_(N,null,P(n.value,(o,U)=>(u(),_("tr",{key:o.id,class:"hover:bg-gray-100"},[e("td",se,g(U+1),1),e("td",oe,[e("img",{src:o.photo||"default-photo.png",alt:"Photo",class:"h-10 w-10 rounded-full object-cover"},null,8,ae)]),e("td",le,g(o.name),1),e("td",ne,g(o.phone),1),e("td",re,g(o.role||"N/A"),1),e("td",ce,[e("button",{class:"btn-2",onClick:y=>v(o)},"Edit",8,de)])]))),128)),n.value.length===0?(u(),_("tr",ue,pe)):f("",!0)])])]),s.value?(u(),_("div",_e,g(s.value),1)):f("",!0),d.value&&h.value?(u(),V(W,{key:1,user:h.value,isOpen:d.value,onClose:m,onUpdate:x},null,8,["user","isOpen"])):f("",!0)]))}};export{me as default};
