import{r as a,c as y,w,o as C,K as x,d as c,e as b,f as t,n as i,q as v,I as q,z as V,t as O}from"./index-D6XXpYf8.js";const R={class:"w-full mx-auto"},T={class:"flex items-center gap-2 mb-2 flex-wrap bg-gray-100 border border-gray-300 p-2"},U=t("i",{class:"fas fa-bold"},null,-1),E=[U],D=t("i",{class:"fas fa-italic"},null,-1),M=[D],B=t("i",{class:"fas fa-underline"},null,-1),I=[B],A=t("i",{class:"fas fa-list-ul"},null,-1),H=[A],N=t("i",{class:"fas fa-list-ol"},null,-1),F=[N],K={class:"relative alignment-dropdown"},G=t("i",{class:"fas fa-chevron-down ml-1"},null,-1),J={key:0,class:"absolute flex bg-white border border-gray-300 rounded mt-1 z-10"},P=t("i",{class:"fas fa-align-left"},null,-1),Q=[P],W=t("i",{class:"fas fa-align-center"},null,-1),X=[W],Y=t("i",{class:"fas fa-align-right"},null,-1),Z=[Y],ee={class:"relative color-dropdown"},te=t("i",{class:"fas fa-palette"},null,-1),ne=[te],oe=t("i",{class:"fas fa-chevron-down ml-1"},null,-1),se={key:0,class:"absolute bg-white border border-gray-300 rounded mt-1 z-10 p-2 flex gap-1"},le={class:"relative font-size-dropdown"},ie=t("i",{class:"fas fa-chevron-down ml-1"},null,-1),re={key:0,class:"absolute bg-white border border-gray-300 rounded mt-1 z-10"},ue={__name:"TextEditor",props:{modelValue:String},emits:["update:modelValue"],setup(k,{emit:j}){const L=k,z=j,r=a(null),n=a({bold:!1,italic:!1,underline:!1,insertUnorderedList:!1,insertOrderedList:!1,justifyLeft:!1,justifyCenter:!1,justifyRight:!1,foreColor:"",fontSize:"16px"}),u=a(!1),d=a(!1),f=a(!1),S={1:"10px",2:"13px",3:"16px",4:"18px",5:"24px",6:"32px",7:"48px"},$=y(()=>n.value.justifyLeft?"fa-align-left":n.value.justifyCenter?"fa-align-center":n.value.justifyRight?"fa-align-right":"fa-align-left"),h=y(()=>n.value.foreColor||"black");w(()=>L.modelValue,l=>{r.value&&r.value.innerHTML!==l&&(r.value.innerHTML=l)});const s=(l,e=null)=>{document.execCommand(l,!1,e),m()},_=()=>{z("update:modelValue",r.value.innerHTML)},m=()=>{n.value={bold:document.queryCommandState("bold"),italic:document.queryCommandState("italic"),underline:document.queryCommandState("underline"),insertUnorderedList:document.queryCommandState("insertUnorderedList"),insertOrderedList:document.queryCommandState("insertOrderedList"),justifyLeft:document.queryCommandState("justifyLeft"),justifyCenter:document.queryCommandState("justifyCenter"),justifyRight:document.queryCommandState("justifyRight"),foreColor:document.queryCommandValue("foreColor"),fontSize:S[document.queryCommandValue("fontSize")]||"16px"}},g=()=>{m()};C(()=>{document.addEventListener("selectionchange",g)}),x(()=>{document.removeEventListener("selectionchange",g)});const p=l=>{!l.target.closest(".alignment-dropdown")&&!l.target.closest(".color-dropdown")&&!l.target.closest(".font-size-dropdown")&&(u.value=!1,d.value=!1,f.value=!1)};return C(()=>{document.addEventListener("click",p)}),x(()=>{document.removeEventListener("click",p)}),(l,e)=>(c(),b("div",R,[t("div",T,[t("button",{type:"button",onClick:e[0]||(e[0]=o=>s("bold")),class:i([{"bg-blue-200 text-blue-700":n.value.bold,"hover:bg-gray-200":!n.value.bold},"p-2 rounded flex items-center justify-center transition"])},E,2),t("button",{type:"button",onClick:e[1]||(e[1]=o=>s("italic")),class:i([{"bg-blue-200 text-blue-700":n.value.italic,"hover:bg-gray-200":!n.value.italic},"p-2 rounded flex items-center justify-center transition"])},M,2),t("button",{type:"button",onClick:e[2]||(e[2]=o=>s("underline")),class:i([{"bg-blue-200 text-blue-700":n.value.underline,"hover:bg-gray-200":!n.value.underline},"p-2 rounded flex items-center justify-center transition"])},I,2),t("button",{type:"button",onClick:e[3]||(e[3]=o=>s("insertUnorderedList")),class:i([{"bg-blue-200 text-blue-700":n.value.insertUnorderedList,"hover:bg-gray-200":!n.value.insertUnorderedList},"p-2 rounded flex items-center justify-center transition"])},H,2),t("button",{type:"button",onClick:e[4]||(e[4]=o=>s("insertOrderedList")),class:i([{"bg-blue-200 text-blue-700":n.value.insertOrderedList,"hover:bg-gray-200":!n.value.insertOrderedList},"p-2 rounded flex items-center justify-center transition"])},F,2),t("div",K,[t("button",{onClick:e[5]||(e[5]=o=>u.value=!u.value),class:"p-2 rounded flex gap-2 items-center justify-center transition hover:bg-gray-200"},[t("i",{class:i(`fas ${$.value}`)},null,2),G]),u.value?(c(),b("div",J,[t("button",{onClick:e[6]||(e[6]=o=>s("justifyLeft")),class:i([{"bg-blue-200 text-blue-700":n.value.justifyLeft,"hover:bg-gray-200":!n.value.justifyLeft},"p-2 flex items-center justify-center"])},Q,2),t("button",{onClick:e[7]||(e[7]=o=>s("justifyCenter")),class:i([{"bg-blue-200 text-blue-700":n.value.justifyCenter,"hover:bg-gray-200":!n.value.justifyCenter},"p-2 flex items-center justify-center"])},X,2),t("button",{onClick:e[8]||(e[8]=o=>s("justifyRight")),class:i([{"bg-blue-200 text-blue-700":n.value.justifyRight,"hover:bg-gray-200":!n.value.justifyRight},"p-2 flex items-center justify-center"])},Z,2)])):v("",!0)]),t("div",ee,[t("button",{onClick:e[9]||(e[9]=o=>d.value=!d.value),class:"p-2 rounded flex gap-2 items-center justify-center transition hover:bg-gray-200"},[t("span",{style:q({color:h.value})},ne,4),oe]),d.value?(c(),b("div",se,[t("button",{onClick:e[10]||(e[10]=o=>s("foreColor","black")),class:"size-4",style:{background:"black"}}),t("button",{onClick:e[11]||(e[11]=o=>s("foreColor","red")),class:"size-4",style:{background:"red"}}),t("button",{onClick:e[12]||(e[12]=o=>s("foreColor","green")),class:"size-4",style:{background:"green"}}),t("button",{onClick:e[13]||(e[13]=o=>s("foreColor","blue")),class:"size-4",style:{background:"blue"}})])):v("",!0)]),t("div",le,[t("button",{onClick:e[14]||(e[14]=o=>f.value=!f.value),class:"p-2 rounded flex gap-2 items-center justify-center transition hover:bg-gray-200"},[V(O(n.value.fontSize)+" ",1),ie]),f.value?(c(),b("div",re,[t("button",{onClick:e[15]||(e[15]=o=>s("fontSize","1")),class:"p-2"},"10px"),t("button",{onClick:e[16]||(e[16]=o=>s("fontSize","2")),class:"p-2"},"13px"),t("button",{onClick:e[17]||(e[17]=o=>s("fontSize","3")),class:"p-2"},"16px"),t("button",{onClick:e[18]||(e[18]=o=>s("fontSize","4")),class:"p-2"},"18px"),t("button",{onClick:e[19]||(e[19]=o=>s("fontSize","5")),class:"p-2"},"24px"),t("button",{onClick:e[20]||(e[20]=o=>s("fontSize","6")),class:"p-2"},"32px"),t("button",{onClick:e[21]||(e[21]=o=>s("fontSize","7")),class:"p-2"},"48px")])):v("",!0)])]),t("div",{ref_key:"editor",ref:r,contenteditable:"true",onInput:_,class:"border border-gray-300 p-4 rounded-md min-h-[200px]"},null,544)]))}};export{ue as _};
