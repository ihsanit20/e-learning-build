import{k as $,u as E,l as N,b as R,c as B,r as _,o as T,m as V,e,f as o,t as i,g as s,p as u,q as v,j as P,s as q,F as f,h as g,v as z,n as c,x as w,y as H}from"./index-BedAWJhs.js";const A={class:"my-container py-4"},I={key:0,class:"error"},K={key:1},O=H('<div class="grid md:grid-cols-3 gap-4"><div class="md:order-last md:col-span-1"><div class="card-bg p-4 animate-pulse"><div class="rounded overflow-hidden h-52 bg-gray-200"></div><div class="flex justify-between mt-4"><div class="h-6 w-20 bg-gray-200 rounded-full"></div><div class="h-6 w-20 bg-gray-200 rounded-full"></div></div><div class="h-10 mt-4 bg-gray-200 rounded-full"></div></div></div><div class="md:col-span-2 space-y-4"><div class="h-10 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="h-6 bg-gray-200 rounded-full"></div><div class="space-y-2"><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div><div class="h-8 bg-gray-200 rounded-full"></div></div></div></div>',1),G=[O],J={key:2,class:"grid md:grid-cols-3 gap-4"},Q={class:"md:order-last md:col-span-1"},U={class:"sticky top-[86px]"},W={class:"card-bg p-4 relative"},X={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-green-600 px-10 py-0.5 text-sm text-white font-medium"},Y={class:"rounded overflow-hidden"},Z=["src"],ss={class:"flex justify-between"},es={class:"font-bold text-sky-600"},ts={key:0},os={class:"font-bold text-sky-600"},ls={key:1,class:"bg-pink-50 px-3 rounded-full"},as={class:"font-bold text-pink-600"},is={class:"md:col-span-2"},ns={class:"md:title-lg font-bold"},ds=s("div",{class:"sticky w-full top-14 md:top-16 py-4 md:px-3 flex items-center gap-2 bg-gray-100 border-y z-40 -mb-28 mt-2"},[s("a",{href:"#modules",class:"btn-1"},"Modules"),s("a",{href:"#course-details",class:"btn-1"},"Course Details")],-1),cs=s("div",{id:"modules",class:"py-16"},null,-1),rs={class:"-mb-28 pt-2"},us=s("h2",{class:"title-lg py-1"},"Modules",-1),_s={class:"space-y-4 px-px"},vs=["onClick"],ps={class:"text-center border-2 rounded-md p-1.5"},hs=s("div",{class:"text-xs md:text-sm"},"Module",-1),fs={class:"flex-1"},gs={class:"flex gap-4"},ys={key:0,class:"flex items-center gap-2 text-gray-500"},ms=s("i",{class:"fas fa-video text-xs"},null,-1),xs={key:1,class:"flex items-center gap-2 text-gray-500"},bs=s("i",{class:"fas fa-file-alt text-xs"},null,-1),ks={key:0,class:"absolute top-3 -left-8 -rotate-45 bg-orange-100 px-10 text-sm text-orange-500 font-medium"},Cs={key:0},ws={class:"space-y-2"},Ms=["onClick"],Ls={class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},Ss={class:"text-xs"},Ds={key:0},js={key:1},Fs={class:"title-sm"},$s={class:"flex items-center gap-2 text-sm text-gray-400"},Es=s("i",{class:"far fa-calendar-check"},null,-1),Ns=["onClick"],Rs=s("div",{class:"flex flex-col items-center justify-center border rounded-md p-2 gap-1"},[s("i",{class:"fas fa-file-alt"}),s("div",{class:"text-xs"},"Exam")],-1),Bs={class:"w-full"},Ts={class:"title-sm"},Vs={class:"flex justify-between gap-2 text-sm text-gray-400"},Ps={class:"flex items-center gap-2"},qs=s("i",{class:"far fa-calendar-check"},null,-1),zs={class:"flex items-center gap-2"},Hs=s("i",{class:"far fa-clock"},null,-1),As=s("span",null,"Duration:",-1),Is=s("div",{id:"course-details",class:"py-16"},null,-1),Ks={class:"py-2 md:min-h-[540px]"},Os=s("h2",{class:"title-lg py-1"},"Course Details",-1),Gs=["innerHTML"],Js={key:3},Ws={__name:"CourseDetails",setup(Qs){const M=$(),y=E(),L=N(),S=R(),m=B(),x=S.params.id,r=_([]),l=_(null),p=_(null),b=_(!0);T(async()=>{try{await y.fetchCourse(x),l.value=y.course}catch(a){p.value=a}finally{b.value=!1}});const h=a=>{const d=new Date(a);return z(d,"dd-MMM-yyyy")},D=a=>{const d=r.value.indexOf(a);d===-1?r.value.push(a):r.value.splice(d,1)},k=(a,d)=>{d||(!M.token&&!localStorage.getItem("auth_token")?m.push({name:"login"}):a.type==="video"?L.showPlayer(a.link):window.open(a.link,"_blank"))},C=(a="me")=>{m.push({name:"Checkout",params:{id:x},query:{for:a}})};return(a,d)=>{const j=V("RouterLink");return e(),o("div",A,[p.value?(e(),o("div",I,i(p.value),1)):b.value?(e(),o("div",K,G)):l.value?(e(),o("div",J,[s("div",Q,[s("div",U,[s("div",W,[l.value.price<=0?(e(),o("div",X," Free ")):u("",!0),s("div",Y,[s("img",{class:"w-full aspect-video object-cover",src:l.value.thumbnail,alt:""},null,8,Z)]),s("div",ss,[s("p",null,[v(" Fee: "),s("span",es,i(l.value.price>0?`${l.value.price} TK`:"Free"),1)]),l.value.course_type==="Live Course"?(e(),o("p",ts,[v(" Start Date: "),s("span",os,i(h(l.value.start_date)),1)])):(e(),o("p",ls,[s("span",as,i(l.value.course_type),1)]))]),l.value.is_purchased?(e(),P(j,{key:1,to:{name:"My Course Details",params:{id:l.value.id}},class:"btn-2"},{default:q(()=>[v(" Start Learning ")]),_:1},8,["to"])):(e(),o("button",{key:2,class:"btn-2",onClick:d[0]||(d[0]=t=>C("me"))},"Enroll Now")),s("button",{class:"btn-link mt-2 mx-auto",onClick:d[1]||(d[1]=t=>C("someone"))}," Purchase for someone else ")])])]),s("div",is,[s("div",null,[s("h1",ns,i(l.value.title),1)]),ds,cs,s("div",rs,[us,s("ul",_s,[(e(!0),o(f,null,g(l.value.modules,t=>(e(),o("li",{key:t.id,class:"card-bg p-4 relative"},[s("div",{onClick:n=>D(t.id),class:"flex flex-1 items-center gap-4 cursor-pointer"},[s("div",ps,[s("div",{class:c(["text-xl font-bold text-orange-500",{"!text-gray-400":t.is_active==0}])},i(t.order),3),hs]),s("div",fs,[s("h4",{class:c(["title-md",{"text-gray-400":t.is_active==0}])},i(t.title),3),s("div",gs,[t.lectures.length>0?(e(),o("div",ys,[ms,s("p",null,i(t.lectures.length)+" Lectures",1)])):u("",!0),t.exams.length>0?(e(),o("div",xs,[bs,s("p",null,i(t.exams.length)+" Exams",1)])):u("",!0)])]),s("button",null,[s("i",{class:c(r.value.includes(t.id)?"fas fa-angle-up":"fas fa-angle-down")},null,2)]),t.is_paid==0?(e(),o("div",ks," Free ")):u("",!0)],8,vs),r.value.includes(t.id)?(e(),o("div",Cs,[s("ul",ws,[(e(!0),o(f,null,g(t.lectures,n=>(e(),o("li",{key:n.id},[s("a",{onClick:w(F=>k(n,t.is_paid),["prevent"]),class:c(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":t.is_paid==1}])},[s("div",Ls,[s("i",{class:c(n.type==="virtual_platform"?"fas fa-video":"fas fa-play-circle")},null,2),s("div",Ss,[n.type==="virtual_platform"?(e(),o("p",Ds,"Live")):(e(),o("p",js,"Rec"))])]),s("div",null,[s("h4",Fs,i(n.title),1),s("div",$s,[Es,s("p",null,i(h(n.opening_time)),1)])])],10,Ms)]))),128)),(e(!0),o(f,null,g(t.exams,n=>(e(),o("li",{key:n.id},[s("a",{class:c(["flex items-center gap-4 bg-gray-100 hover:bg-sky-100 p-2 rounded-md cursor-pointer",{"pointer-events-none opacity-70":t.is_paid==1}]),onClick:w(F=>k(a.lecture,t.is_paid),["prevent"])},[Rs,s("div",Bs,[s("h4",Ts,i(n.title),1),s("div",Vs,[s("div",Ps,[qs,s("p",null,i(h(n.opening_time)),1)]),s("div",zs,[Hs,s("p",null,[As,v(" "+i(n.duration),1)])])])])],10,Ns)]))),128))])])):u("",!0)]))),128))])]),Is,s("div",Ks,[Os,s("div",{innerHTML:l.value.description,class:"bg-white p-4 rounded-lg border *:mb-2.5 text-justify text-sm md:text-base"},null,8,Gs)])])])):(e(),o("div",Js,"Loading..."))])}}};export{Ws as default};
