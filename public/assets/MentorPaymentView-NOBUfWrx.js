import{Q as h,x as c,y as r,z as e,C as u,X as p,d as x,r as i,I as _,B as d,F as b,G as g,O as v}from"./vue-CcEtAIOs.js";import{h as w}from"./index-CkAGF-aN.js";import"./vendor-PJuFQbji.js";const I={class:"hover:bg-sky-700/15 *:px-1 *:py-1 *:border *:md:px-4 *:md:py-2"},C={class:"text-left"},M={class:"w-full flex gap-1 justify-between"},k={class:"w-full flex gap-1 justify-between"},S={__name:"CourseWiseTableRow",props:["courseIncome","percentage"],setup(s){const t=s,a=h(()=>(t.courseIncome.total_income*t.percentage*.01).toFixed(0));return(o,n)=>(r(),c("tr",I,[e("td",null,u(s.courseIncome.course_id),1),e("td",C,u(s.courseIncome.course_name||"-"),1),e("td",null,[e("div",M,[n[0]||(n[0]=e("span",null,"৳",-1)),p(" "+u(Number(s.courseIncome.total_income).toFixed(0)),1)])]),e("td",null,[e("div",k,[n[1]||(n[1]=e("span",null,"৳",-1)),p(" "+u(a.value),1)])])]))}},W=x("mentor-payment",()=>{const s=i(new Date().toISOString().slice(0,7)),t=i([]),a=i(!1),o=i(null);return{error:o,isLoading:a,selectedMonth:s,courseWiseMonthlyIncomes:t,fetchCourseWiseMonthlyIncome:async(m=null)=>{var y,f;a.value=!0,m&&(s.value=m);try{const{data:l}=await w.get(`/course-wise-monthly-incomes/${s.value}`);t.value=l||[]}catch(l){throw o.value=((f=(y=l==null?void 0:l.response)==null?void 0:y.data)==null?void 0:f.message)??"An error occurred",o.value}finally{a.value=!1}}}}),$={class:"my-container space-y-4"},B={key:0,class:"text-center mt-2"},F={key:1,class:"text-red-500 text-center mb-4"},L={key:2,class:"overflow-x-auto"},N={class:"w-full table table-auto text-center text-xs md:text-base"},V={__name:"MentorPaymentView",setup(s){const t=W();return _(async()=>{await t.fetchCourseWiseMonthlyIncome()}),(a,o)=>(r(),c("div",$,[o[1]||(o[1]=e("h1",{class:"text-3xl font-bold mb-6 text-center"},"Mentor Payment",-1)),d(t).isLoading?(r(),c("div",B,"Loading...")):d(t).error?(r(),c("div",F,u(d(t).error),1)):(r(),c("div",L,[e("table",N,[o[0]||(o[0]=e("thead",null,[e("tr",{class:"bg-gray-200 *:px-2 *:py-1.5"},[e("th",{class:"border"},"Course ID"),e("th",{class:"border"},"Course Name"),e("th",{class:"border"},"Transaction"),e("th",{class:"border"},"Software Charge")])],-1)),e("tbody",null,[(r(!0),c(b,null,g(d(t).courseWiseMonthlyIncomes,n=>(r(),v(S,{key:n.course_Id,courseIncome:n,percentage:5},null,8,["courseIncome"]))),128))])])]))]))}};export{V as default};
