import{r as i,I as _,P as k,a2 as x,Q as b,x as o,z as r,H as f,F as d,G as v,B as A,T as h,y as l,C as q,O as w}from"./vue-CcEtAIOs.js";import{u as B,a as S,_ as I}from"./index-D6NlM3We.js";import"./vendor-PJuFQbji.js";const $={class:"my-container space-y-6 py-2"},z={class:"flex flex-wrap justify-center md:gap-4 gap-2"},E=["onClick"],F={key:0,class:"grid md:grid-cols-3 gap-4"},L={key:1,class:"grid md:grid-cols-3 gap-4"},N={key:2},H={__name:"AllCourse",setup(O){const p=B(),n=S(),c=i([]),a=i("All Courses"),u=k(),C=h(),m=i(!0);_(async()=>{await p.fetchCourses(),await n.fetchCategories(),c.value=p.courses.sort((s,e)=>e.id-s.id),u.query.category&&(a.value=u.query.category),m.value=!1}),x(()=>u.query.category,s=>{a.value=s||"All Courses"});const g=b(()=>{if(a.value==="All Courses")return c.value;const s=n.categories.find(e=>e.name===a.value);return c.value.filter(e=>parseInt(e.category_id)===parseInt(s==null?void 0:s.id))}),y=s=>{a.value=s,C.replace({query:{...u.query,category:s}})};return(s,e)=>(l(),o("div",$,[e[2]||(e[2]=r("div",null,[r("h2",{class:"title-xl text-center"},"Our Courses"),r("p",{class:"text-center"},"Explore our courses at a glance")],-1)),r("div",null,[r("div",z,[r("button",{onClick:e[0]||(e[0]=t=>y("All Courses")),class:f({"btn-2":a.value==="All Courses","btn-3":a.value!=="All Courses"})}," All Courses ",2),(l(!0),o(d,null,v(A(n).categories,t=>(l(),o("button",{key:t.id,onClick:R=>y(t.name),class:f({"btn-2":a.value===t.name,"btn-3":a.value!==t.name})},q(t.name),11,E))),128))])]),m.value?(l(),o("div",F,[(l(),o(d,null,v(3,t=>r("div",{class:"card-bg p-4 animate-pulse items-center",key:t},e[1]||(e[1]=[r("i",{class:"fas fa-image text-gray-300 text-[250px]"},null,-1),r("div",{class:"h-8 w-28 bg-gray-200 rounded-full mt-4"},null,-1)]))),64))])):g.value.length>0?(l(),o("div",L,[(l(!0),o(d,null,v(g.value,t=>(l(),w(I,{key:t.id,course:t},null,8,["course"]))),128))])):(l(),o("p",N,"No courses available"))]))}};export{H as default};
