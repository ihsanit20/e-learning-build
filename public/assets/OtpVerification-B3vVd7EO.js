import{r as s,I as b,P as O,x as a,z as e,M as T,A as c,X as _,C as p,U as g,a9 as w,T as P,y as n}from"./vue-CAqJJQzZ.js";import{b as V}from"./index--DNSAfWm.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-PJuFQbji.js";const S={class:"max-w-md mx-auto my-10 px-2"},q={class:"bg-white p-6 rounded-lg shadow-md"},I={class:"font-medium text-gray-900 text-center"},M={class:"font-bold"},A={class:"flex justify-center items-center"},B={key:0,class:"loader"},N={key:1,class:"text-green-500 text-2xl"},R={key:0,class:"mt-4 text-sm text-red-500 text-center"},j={key:1,class:"mt-4 text-sm text-green-500 text-center"},C={class:"flex justify-center"},D=["disabled"],E={__name:"OtpVerification",setup(U){const r=s(""),l=s(""),i=s(""),u=s(""),o=s(!1),d=s(!1),v=V(),x=P(),f=O(),y=async()=>{o.value=!0,d.value=!1;try{await v.verifyOtp(r.value,l.value)&&(u.value="OTP verification completed.",i.value="",o.value=!1,d.value=!0,setTimeout(()=>{x.push({name:"ResetPassword",query:{phone:r.value,otp:l.value}})},2e3))}catch{i.value=v.error||"Invalid OTP. Please try again.",u.value="",o.value=!1}};return b(()=>{f.query.phone&&(r.value=f.query.phone)}),(m,t)=>(n(),a("div",S,[e("div",q,[t[4]||(t[4]=e("h2",{class:"title-lg text-center"},"Verify OTP",-1)),e("form",{onSubmit:T(y,["prevent"]),class:"space-y-4"},[e("div",I,[t[1]||(t[1]=_(" An OTP has been sent to (")),e("span",M,p(r.value),1),t[2]||(t[2]=_(") this number. "))]),e("div",null,[g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>l.value=h),type:"text",id:"otp",name:"otp",class:"input-1 w-full",placeholder:"Enter the OTP",required:""},null,512),[[w,l.value]])]),e("div",A,[o.value?(n(),a("span",B)):c("",!0),d.value?(n(),a("span",N,t[3]||(t[3]=[e("i",{class:"fad fa-check-circle"},null,-1)]))):c("",!0)]),i.value?(n(),a("div",R,p(i.value),1)):c("",!0),u.value?(n(),a("div",j,p(u.value),1)):c("",!0),e("div",C,[e("button",{type:"submit",class:"btn-2",disabled:o.value},"Verify OTP",8,D)])],32)])]))}},H=k(E,[["__scopeId","data-v-46e2d02f"]]);export{H as default};
