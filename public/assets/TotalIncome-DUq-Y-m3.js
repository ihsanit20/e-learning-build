import{u as g,r as o,o as b,d as a,e as s,z as v,A as y,N as T,F as h,f as k,g as w,p as S,t as m,i as l}from"./index-BRjg0X-h.js";import{u as C}from"./transaction-DQJw9Si0.js";const I={class:"my-container space-y-4"},F={class:"card-bg p-4"},V={class:"grid md:grid-cols-4 gap-4"},D=["value"],B={class:"card-bg p-4"},L={key:0,class:"text-red-500 text-center mb-4"},M={key:1,class:"text-2xl font-semibold text-center"},N={key:2,class:"text-center mt-2"},E={__name:"TotalIncome",setup(U){const p=C(),f=g(),n=o(""),r=o(""),c=o(""),_=o(0),u=o(null),d=o(!1),x=async()=>{var i,e;d.value=!0;try{await p.fetchTotalIncome({from:n.value,to:r.value,course_id:c.value}),_.value=p.totalIncome}catch(t){u.value=((e=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:e.message)||"An error occurred"}d.value=!1};return b(async()=>{await f.fetchCourses(),await x()}),(i,e)=>(l(),a("div",I,[e[4]||(e[4]=s("h1",{class:"text-3xl font-bold mb-6 text-center"},"Total Income",-1)),s("div",F,[s("div",V,[v(s("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),class:"input-1 w-full",placeholder:"From Date"},null,512),[[y,n.value]]),v(s("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"input-1 w-full",placeholder:"To Date"},null,512),[[y,r.value]]),v(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),class:"input-1 w-full"},[e[3]||(e[3]=s("option",{value:""},"Select Course",-1)),(l(!0),a(h,null,k(w(f).courses,t=>(l(),a("option",{key:t.id,value:t.id},m(t.title),9,D))),128))],512),[[T,c.value]]),s("button",{onClick:x,class:"btn-2"},"Filter")])]),s("div",B,[u.value?(l(),a("div",L,m(u.value),1)):(l(),a("div",M,"à§³"+m(_.value),1)),d.value?(l(),a("div",N,"Loading...")):S("",!0)])]))}};export{E as default};
