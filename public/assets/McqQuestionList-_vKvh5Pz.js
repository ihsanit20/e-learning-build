import{b as A,r as a,o as E,w as M,s as T,d as s,e as t,f as e,y as j,z,h as k,F as m,g as w,i as y,q as i,t as B}from"./index-DpEJbF1j.js";import{u as H,A as N,E as R,D as S}from"./EditQuestionModal-BbUZ8GOa.js";import"./TextEditor-DclLEu50.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"my-container space-y-2"},F={class:"flex justify-between"},$={class:"flex items-center gap-4"},G=e("i",{class:"fas fa-arrow-left"},null,-1),J=e("h4",{class:"title-lg"},"MCQ Question List",-1),K={key:0,class:"flex justify-center items-center"},O=e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1),P=[O],U={key:1},W={key:0,class:"grid md:grid-cols-2 xl:grid-cols-3 gap-4"},X={class:"w-full justify-between flex gap-6"},Y=["onClick"],Z=e("i",{class:"fad fa-edit"},null,-1),ee=[Z],se=["onClick"],te=e("i",{class:"fad fa-trash"},null,-1),oe=[te],ae=e("hr",null,null,-1),le=["innerHTML"],ne={key:0,class:"grid gap-1 text-sm"},ce=e("hr",{class:"mb-1"},null,-1),ie={class:"flex gap-2 items-center"},de={class:"shrink-0 grow-0 w-4"},re={key:0,class:"fa fa-check-circle text-green-700"},ue=["innerHTML"],_e={key:1,class:"text-red-500"},ge={__name:"McqQuestionList",setup(he){const n=A(),g=a(n.params.categoryId),x=a(n.params.subjectId),r=a(n.params.chapterId),u=H(),_=a(!1),h=a(!1),p=a(!1),d=a(null),v=a(!0),C=()=>_.value=!0,b=()=>_.value=!1,Q=o=>{d.value=o,h.value=!0},I=()=>h.value=!1,L=o=>{d.value=o,p.value=!0},q=()=>p.value=!1,f=async()=>{try{v.value=!0,await u.index(r.value,"MCQ")}finally{v.value=!1}};return E(f),M(()=>n.params.id,async o=>{r.value=o,await f()}),M(()=>n.params.categoryId,async o=>{g.value=o,await f()}),(o,pe)=>{const D=T("RouterLink");return s(),t("div",V,[e("div",F,[e("div",$,[j(D,{class:"btn-3",to:{name:"ChapterList",params:{categoryId:g.value,id:x.value}}},{default:z(()=>[G]),_:1},8,["to"]),J]),e("button",{class:"btn-2",onClick:C},"Add MCQ Question")]),v.value?(s(),t("div",K,P)):(s(),t("div",U,[k(u).questions.length?(s(),t("div",W,[(s(!0),t(m,null,w(k(u).questions,l=>(s(),t("div",{key:l.id,class:"relative card-bg p-3"},[e("div",X,[e("div",null,"ID: "+B(l.id),1),e("button",{class:"ml-auto",onClick:c=>Q(l)},ee,8,Y),e("button",{onClick:c=>L(l),class:"text-red-500"},oe,8,se)]),ae,e("div",{class:"whitespace-pre-wrap leading-loose text-sm text-left",innerHTML:l.question_text},null,8,le),l.type==="MCQ"?(s(),t("div",ne,[(s(!0),t(m,null,w(l.mcq_options,c=>(s(),t(m,{key:c.id},[ce,e("div",ie,[e("div",de,[c.is_correct?(s(),t("i",re)):i("",!0)]),e("div",{innerHTML:c.option_text},null,8,ue)])],64))),128))])):i("",!0)]))),128))])):(s(),t("p",_e,"No questions found"))])),_.value?(s(),y(N,{key:2,class:"z-40",chapterId:r.value,questionType:"MCQ",onClose:b},null,8,["chapterId"])):i("",!0),h.value?(s(),y(R,{key:3,class:"z-40",question:d.value,questionType:"MCQ",onClose:I},null,8,["question"])):i("",!0),p.value?(s(),y(S,{key:4,class:"z-40",question:d.value,onClose:q},null,8,["question"])):i("",!0)])}}};export{ge as default};
