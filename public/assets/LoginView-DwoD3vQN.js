import{r as n,I as b,P as h,x as m,z as t,M as k,D as v,A as P,U as x,a9 as V,aa as C,H as q,L as c,Z as D,C as M,X as i,T as N,y}from"./vue-CAqJJQzZ.js";import{b as S}from"./index--DNSAfWm.js";import"./vendor-PJuFQbji.js";const _={class:"max-w-md mx-auto my-10 px-2"},L={class:"bg-white p-6 rounded-lg shadow-md"},A={class:"relative"},B=["type"],E={key:0,class:"mt-4 text-sm text-red-500 text-center"},R={class:"mt-4 text-sm text-center"},I={__name:"LoginView",setup(T){const o=n(""),l=n(""),f=N(),d=h(),u=S(),s=n(""),a=n(!1);b(()=>{d.query.phone&&(o.value=d.query.phone)});const g=async()=>{try{await u.login(o.value,l.value),u.error?s.value=u.error:f.push(localStorage.getItem("next")??"/dashboard")}catch{s.value="An unexpected error occurred. Please try again."}};return(w,e)=>{const p=D("router-link");return y(),m("div",_,[t("div",L,[e[9]||(e[9]=t("h2",{class:"title-lg text-center"},"Login",-1)),t("form",{onSubmit:k(g,["prevent"]),class:"space-y-4"},[t("div",null,[e[3]||(e[3]=t("label",{for:"phone",class:"block font-medium text-gray-700"},"Phone Number",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),type:"text",id:"phone",name:"phone",class:"input-1 w-full",placeholder:"Enter your phone number",required:""},null,512),[[V,o.value]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"password",class:"block font-medium text-gray-700"},"Password",-1)),t("div",A,[x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:a.value?"text":"password",id:"password",name:"password",class:"input-1 w-full",placeholder:"Enter your password",required:"",autofocus:""},null,8,B),[[C,l.value]]),t("button",{type:"button",class:"absolute inset-y-0 right-0 px-3 text-gray-600",onClick:e[2]||(e[2]=r=>a.value=!a.value)},[t("i",{class:q(a.value?"fas fa-eye-slash":"far fa-eye")},null,2)])])]),v(p,{to:{name:"ForgotPassword",query:{phone:o.value}},class:"text-indigo-500 hover:text-indigo-700"},{default:c(()=>e[5]||(e[5]=[i("Forgot Password?")])),_:1},8,["to"]),s.value?(y(),m("div",E,M(s.value),1)):P("",!0),e[6]||(e[6]=t("div",{class:"flex justify-center"},[t("button",{type:"submit",class:"btn-2"},"Login")],-1))],32),t("div",R,[e[8]||(e[8]=i(" Don't have an account? ")),v(p,{to:"/register",class:"text-indigo-500 hover:text-indigo-700"},{default:c(()=>e[7]||(e[7]=[i("Register")])),_:1})])])])}}};export{I as default};
