import{r as l,c as w,b as y,k as b,o as k,m as V,e as c,f as p,g as e,x as q,z as m,A as h,B as v,s as x,t as N,p as P,q as u}from"./index-amixhH3R.js";const S={class:"max-w-md mx-auto my-10 px-2"},B={class:"bg-white p-6 rounded-lg shadow-md"},A=e("h2",{class:"title-lg text-center"},"Login",-1),C=e("label",{for:"phone",class:"block font-medium text-gray-700"},"Phone Number",-1),D=e("label",{for:"password",class:"block font-medium text-gray-700"},"Password",-1),E={key:0,class:"mt-4 text-sm text-red-500 text-center"},L=e("div",{class:"flex justify-center"},[e("button",{type:"submit",class:"btn-2"},"Login")],-1),M={class:"mt-4 text-sm text-center"},T={__name:"LoginView",setup(R){const t=l(""),a=l(""),_=w(),i=y(),r=b(),o=l("");k(()=>{i.query.phone&&(t.value=i.query.phone)});const g=async()=>{try{await r.login(t.value,a.value),r.error?o.value=r.error:_.push(localStorage.getItem("next")??"/dashboard")}catch{o.value="An unexpected error occurred. Please try again."}};return(f,s)=>{const d=V("router-link");return c(),p("div",S,[e("div",B,[A,e("form",{onSubmit:q(g,["prevent"]),class:"space-y-4"},[e("div",null,[C,m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n),type:"text",id:"phone",name:"phone",class:"input-1 w-full",placeholder:"Enter your phone number",required:""},null,512),[[h,t.value]])]),e("div",null,[D,m(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>a.value=n),type:"password",id:"password",name:"password",class:"input-1 w-full",placeholder:"Enter your password",required:"",autofocus:""},null,512),[[h,a.value]])]),v(d,{to:{name:"ForgotPassword"},class:"text-indigo-500 hover:text-indigo-700"},{default:x(()=>[u("Forgot Password?")]),_:1}),o.value?(c(),p("div",E,N(o.value),1)):P("",!0),L],32),e("div",M,[u(" Don't have an account? "),v(d,{to:"/register",class:"text-indigo-500 hover:text-indigo-700"},{default:x(()=>[u("Register")]),_:1})])])])}}};export{T as default};
